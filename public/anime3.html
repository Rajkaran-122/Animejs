<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AnimeWorld</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:700,500,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root {
      --primary: #ff4081;
      --secondary: #00bcd4;
      --bg: #121212;
      --card-bg: #1e1e1e;
      --text: #fff;
      --muted: #b0bec5;
      --input-bg: #232323;
      --header-glass: rgba(30,30,30,0.85);
      --shadow: 0 4px 24px rgba(0,0,0,0.18);
      --font: 'Montserrat', Arial, sans-serif;
      --radius: 18px;
    }
    body {
      font-family: var(--font);
      background: var(--bg);
      color: var(--text);
      margin: 0;
      scroll-behavior: smooth;
      transition: background 0.3s, color 0.3s;
    }
    body.light-mode {
      --bg: #f7f7f7;
      --card-bg: #fff;
      --text: #222;
      --muted: #555;
      --input-bg: #e0e0e0;
      --header-glass: rgba(255,255,255,0.85);
    }
    header.anime-header {
      width: 94.8vw;
      left: 0; top: 0;
      position: sticky;
      z-index: 1000;
      background: var(--header-glass);
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 2vw;
      min-height: 68px;
      margin: 0;
      border-radius: 0;
      transition: background 0.3s;
    }
    .logo {
      font-size: 2.1rem;
      font-weight: 700;
      color: var(--primary);
      letter-spacing: 2px;
      font-family: var(--font);
      text-shadow: 0 2px 12px rgba(255,64,129,0.12);
      margin-right: 2vw;
      white-space: nowrap;
    }
    nav.anime-nav {
      display: flex;
      flex: 1 1 auto;
      justify-content: flex-start;
      align-items: center;
      gap: 2.5vw;
      min-width: 0;
    }
    .anime-nav .nav-link {
      color: var(--text);
      font-weight: 500;
      font-size: 1.08rem;
      letter-spacing: 0.5px;
      padding: 6px 0;
      border-bottom: 2px solid transparent;
      transition: color 0.2s, border 0.2s;
      font-family: var(--font);
      text-decoration: none;
      background: none;
    }
    .anime-nav .nav-link:hover,
    .anime-nav .nav-link.active {
      color: var(--primary);
      border-bottom: 2px solid var(--primary);
    }
    .header-actions {
      display: flex;
      align-items: center;
      gap: 1.1rem;
      margin-left: 2vw;
    }
    .search-bar input {
       margin-left: 20px;
      padding: 7px 16px;
      border-radius: 20px;
      border: none;
      background: var(--input-bg);
      color: var(--text);
      font-size: 1rem;
      outline: none;
      font-family: var(--font);
      transition: background 0.2s, color 0.2s;
    }
    .lang-select {
      background: var(--input-bg);
      color: var(--text);
      border-radius: 8px;
      border: none;
      padding: 6px 10px;
      font-family: var(--font);
      font-size: 1rem;
    }
    .login-btn {
        margin-left: 10px;
      background: var(--primary);
      color: var(--bg);
      border: none;
      border-radius: 20px;
      padding: 7px 20px;
      font-weight: 700;
      font-family: var(--font);
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
      box-shadow: 0 2px 8px rgba(255,64,129,0.08);
    }
    .login-btn:hover { background: var(--secondary); color: var(--text);}
    .theme-toggle {
      margin-right: 5px;
      background: none;
      border: none;
      font-size: 1.7rem;
      margin-left: 0.5rem;
      cursor: pointer;
      color: var(--primary);
      display: flex;
      align-items: center;
      transition: color 0.2s, transform 0.2s;
      width: 38px;
      height: 38px;
      justify-content: center;
      border-radius: 50%;
    }
    .theme-toggle svg {
      width: 28px;
      height: 28px;
      display: block;
      pointer-events: none;
    }
    .theme-toggle:hover {
      color: var(--secondary);
      background: rgba(0,188,212,0.08);
      transform: scale(1.1) rotate(10deg);
    }
    .hamburger {
      display: none;
      flex-direction: column;
      gap: 4px;
      background: none;
      border: none;
      cursor: pointer;
      margin-left: 0.5rem;
      z-index: 1001;
    }
    .hamburger span {
      display: block;
      width: 26px;
      height: 3px;
      background: var(--primary);
      border-radius: 2px;
      transition: all 0.3s;
    }
    @media (max-width: 900px) {
      header.anime-header {
        flex-wrap: wrap;
        flex-direction: row;
        padding: 0 2vw;
      }
      nav.anime-nav {
        position: absolute;
        top: 68px;
        left: 0;
        right: 0;
        background: var(--header-glass);
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
        padding: 1.5rem 0 1rem 0;
        border-radius: 0 0 18px 18px;
        box-shadow: var(--shadow);
        display: none;
        z-index: 999;
        width:  98vw;
      }
      nav.anime-nav.open { display: flex; }
      .hamburger { display: flex; }
      .header-actions { gap: 0.7rem; }
    }
    @media (max-width: 600px) {
      .logo { font-size: 1.3rem; }
      .search-bar input { width: 80px; }
      .header-actions { gap: 0.5rem; }
    }
    /* Section styles */
    
    /* Hero Carousel */
    .hero {
      width: 100vw;
      max-width: 100%;
      overflow: hidden;
      margin: 0 auto 60px auto;
      position: relative;
      background: none;
      box-shadow: none;
      border-radius: 0;
      padding: 0;
    }
    .carousel {
      display: flex;
      transition: transform 0.7s cubic-bezier(.77,0,.18,1);
      width: 500vw;
    }
    .slide {
      min-width: 100vw;
      height: 460px;
      background-size: cover;
      background-position: center;
      position: relative;
      display: flex;
      align-items: flex-end;
      justify-content: flex-start;
    }
    .slide .content {
      background: rgba(0,0,0,0.6);
      padding: 32px 40px;
      border-radius: var(--radius) var(--radius) 0 0;
      margin: 0 0 40px 40px;
      color: var(--text);
      box-shadow: var(--shadow);
    }
    .slide h1 {
      font-size: 2.2rem;
      margin: 0 0 12px 0;
      color: var(--primary);
    }
    .play-btn {
      background: var(--secondary);
      color: var(--bg);
      border: none;
      border-radius: 20px;
      padding: 10px 28px;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
    }
    .play-btn:hover { background: var(--primary); color: var(--text);}
    /* Trending Slider */
    
    /* Watchlist, Quiz, Character, etc. */
    .watchlist-section, .quiz-section, .character-spotlight, .easter-egg, .reviews-section, .manga-posts, .faq-section, .why-join {
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      margin: 40px auto;
      padding: 32px 5vw;
      max-width: 900px;
    }
    /* Footer */
    .footer {
      background: #181818;
      color: var(--muted);
      padding: 40px 5vw 0 5vw;
      margin-top: 60px;
    }
    .footer-container {
      display: flex;
      flex-wrap: wrap;
      gap: 40px;
      justify-content: space-between;
    }
    .footer-section {
      flex: 1 1 200px;
      min-width: 200px;
      margin-bottom: 24px;
    }
    .footer-section h3 {
      color: var(--primary);
      margin-bottom: 12px;
    }
    .footer-section ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .footer-section ul li {
      margin-bottom: 8px;
    }
    .footer-section ul li a {
      color: var(--muted);
      transition: color 0.2s;
    }
    .footer-section ul li a:hover { color: var(--primary);}
    .footer-bottom {
      text-align: center;
      color: var(--muted);
      padding: 16px 0;
      border-top: 1px solid #232323;
      margin-top: 24px;
      font-size: 0.95rem;
    }
    .social-icons {
      display: flex;
      gap: 16px;
      margin-top: 8px;
    }
    .social-icon {
      color: var(--secondary);
      font-size: 1.3rem;
      transition: color 0.2s;
    }
    .social-icon:hover { color: var(--primary);}
    @media (max-width: 900px) {
      header.anime-header {
        flex-wrap: wrap;
        flex-direction: row;
        padding: 0 2vw;
      }
      nav.anime-nav {
        position: absolute;
        top: 68px;
        left: 0;
        right: 0;
        background: var(--header-glass);
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
        padding: 1.5rem 0 1rem 0;
        border-radius: 0 0 18px 18px;
        box-shadow: var(--shadow);
        display: none;
        z-index: 999;
        width: 100vw;
      }
      nav.anime-nav.open { display: flex; }
      .hamburger { display: flex; }
      .header-actions { gap: 0.7rem; }
    }
    @media (max-width: 600px) {
      .logo { font-size: 1.3rem; }
      .search-bar input { width: 80px; }
      .header-actions { gap: 0.5rem; }
    }
  </style>
</head>
<body>
  <header class="anime-header">
    <div class="logo">AnimeWorld</div>
    <nav class="anime-nav" id="animeNav">
      <a href="#home" class="nav-link">Home</a>
      <a href="#genres" class="nav-link">Genres</a>
      <a href="#trending" class="nav-link">Trending</a>
      <a href="#mylist" class="nav-link">My List</a>
    </nav>
    <div class="header-actions">
      <div class="search-bar">
        <input type="text" placeholder="Search anime..." aria-label="Search anime">
      </div>
      <select class="lang-select" aria-label="Select language">
        <option value="en">EN</option>
        <option value="jp">日本語</option>
        <option value="fr">FR</option>
        <option value="es">ES</option>
        <option value="de">DE</option>
      </select>
      <button class="login-btn" onclick="window.location.href='./login.html'">Login</button>
      <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark/light mode"></button>
      <button class="hamburger" id="hamburger" aria-label="Open menu">
        <span></span><span></span><span></span>
      </button>
    </div>
  </header>

  
  <!-- HERO CAROUSEL -->
  <section class="hero" id="home">
    <div class="carousel" id="carousel">
      <div class="slide" style="background-image: url('https://mrwallpaper.com/images/featured/attack-on-titan-znbb30tucz5g0wqk.jpg');">
        <div class="content">
          <h1>Attack on Titan</h1>
          <button class="play-btn">▶ Play Now</button>
        </div>
      </div>
      <div class="slide" style="background-image: url('https://naruto-official.com/common/ogp/NTOS_OG-main.png');">
        <div class="content">
          <h1>Naruto</h1>
          <button class="play-btn">▶ Play Now</button>
        </div>
      </div>
      <div class="slide" style="background-image: url('https://imgsrv.crunchyroll.com/cdn-cgi/image/fit=contain,format=auto,quality=85,width=1200,height=675/catalog/crunchyroll/a249096c7812deb8c3c2c907173f3774.jpg');">
        <div class="content">
          <h1>One Piece</h1>
          <button class="play-btn">▶ Play Now</button>
        </div>
      </div>
      <div class="slide" style="background-image: url('https://static1.srcdn.com/wordpress/wp-content/uploads/2024/07/demon-slayer-infinity-castle-movie.jpg');">
        <div class="content">
          <h1>Demon Slayer</h1>
          <button class="play-btn">▶ Play Now</button>
        </div>
      </div>
      <div class="slide" style="background-image: url('https://imgsrv.crunchyroll.com/cdn-cgi/image/fit=contain,format=auto,quality=85,width=2700/CurationAssets/Solo%20Leveling/SEASON%202/MARKETING%20BANNER/SoloLeveling-S2-KV1-Banner-2100x700-EN.png');">
        <div class="content">
          <h1>Solo Leveling</h1>
          <button class="play-btn">▶ Play Now</button>
        </div>
      </div>
    </div>
  </section>

  <!-- GENRES SECTION -->
  <section>
    <!-- GENRES SECTION -->
<section id="genres" class="genres-section">
  <h2><span>🎬</span> Genres</h2>
  <div class="slider-container">
    <button class="slider-nav prev" aria-label="Previous">&#10094;</button>
    <div class="slider" id="genresSlider">
      <div class="slider-item">
        <div class="genre-icon" style="background:#ff4081;"><i class="fa-solid fa-bolt"></i></div>
        <img src="https://mrwallpaper.com/images/featured/attack-on-titan-znbb30tucz5g0wqk.jpg" alt="Action">
        <div class="slider-info">
          <h3>Action</h3>
          <p>Epic battles and high stakes!</p>
        </div>
      </div>
      <div class="slider-item">
        <div class="genre-icon" style="background:#00bcd4;"><i class="fa-solid fa-hat-wizard"></i></div>
        <img src="https://naruto-official.com/common/ogp/NTOS_OG-main.png" alt="Adventure">
        <div class="slider-info">
          <h3>Adventure</h3>
          <p>Journey with your favorite heroes.</p>
        </div>
      </div>
      <div class="slider-item">
        <div class="genre-icon" style="background:#ffc107;"><i class="fa-solid fa-laugh-squint"></i></div>
        <img src="https://imgsrv.crunchyroll.com/cdn-cgi/image/fit=contain,format=auto,quality=85,width=1200,height=675/catalog/crunchyroll/a249096c7812deb8c3c2c907173f3774.jpg" alt="Comedy">
        <div class="slider-info">
          <h3>Comedy</h3>
          <p>Laugh out loud with the best anime comedies.</p>
        </div>
      </div>
      <div class="slider-item">
        <div class="genre-icon" style="background:#e040fb;"><i class="fa-solid fa-heart"></i></div>
        <img src="https://static1.srcdn.com/wordpress/wp-content/uploads/2024/07/demon-slayer-infinity-castle-movie.jpg" alt="Romance">
        <div class="slider-info">
          <h3>Romance</h3>
          <p>Heartwarming and emotional stories.</p>
        </div>
      </div>
      <div class="slider-item">
        <div class="genre-icon" style="background:#4caf50;"><i class="fa-solid fa-brain"></i></div>
        <img src="https://imgsrv.crunchyroll.com/cdn-cgi/image/fit=contain,format=auto,quality=85,width=2700/CurationAssets/Solo%20Leveling/SEASON%202/MARKETING%20BANNER/SoloLeveling-S2-KV1-Banner-2100x700-EN.png" alt="Fantasy">
        <div class="slider-info">
          <h3>Fantasy</h3>
          <p>Magical worlds and epic quests.</p>
        </div>
      </div>
      <div class="slider-item">
        <div class="genre-icon" style="background:#607d8b;"><i class="fa-solid fa-ghost"></i></div>
        <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80" alt="Supernatural">
        <div class="slider-info">
          <h3>Supernatural</h3>
          <p>Ghosts, spirits, and the unknown.</p>
        </div>
      </div>
      <div class="slider-item">
        <div class="genre-icon" style="background:#ff9800;"><i class="fa-solid fa-masks-theater"></i></div>
        <img src="https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=800&q=80" alt="Drama">
        <div class="slider-info">
          <h3>Drama</h3>
          <p>Intense stories and deep emotions.</p>
        </div>
      </div>
    </div>
    <button class="slider-nav next" aria-label="Next">&#10095;</button>
  </div>
</section>

<!-- Font Awesome for genre icons (add in <head> if not already present) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

<style>
.genres-section {
  width: 100vw;
  margin: 0;
  padding: 0;
  box-shadow: 0 8px 32px rgba(0,0,0,0.18);
  border-radius: 0;
  overflow-x: hidden;
  position: relative;
}
.genres-section h2 {
  color: var(--primary);
  font-size: 2.5rem;
  margin-left: 500px;
  padding-top: 48px;
  font-family: var(--font);
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  gap: 12px;
}
.slider-container {
  display: flex;
  align-items: center;
  gap: 0;
  width: 100vw;
  padding-bottom: 48px;
  position: relative;
}
.slider {
  display: flex;
  gap: 0; /* No gap between items */
  overflow-x: auto;
  scroll-behavior: smooth;
  width: 100vw;
  padding-left: 0; /* Remove left padding */
  padding-right: 0;
  scrollbar-width: none;
}
.slider::-webkit-scrollbar { display: none; }
.slider-item {
  min-width: 25vw; /* 4 items per view */
  max-width: 25vw;
  background: var(--card-bg, #fff);
  border-radius: var(--radius, 16px);
  box-shadow: var(--shadow, 0 2px 8px rgba(0,0,0,0.08));
  overflow: hidden;
  transition: transform 0.18s, box-shadow 0.18s;
  cursor: pointer;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 0; /* No margin */
}
.slider-item:hover {
  transform: translateY(-8px) scale(1.04);
  box-shadow: 0 8px 32px rgba(255,64,129,0.18);
  z-index: 2;
}
.genre-icon {
  position: absolute;
  top: 12px;
  left: 12px;
  width: 38px;
  height: 38px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-size: 1.3rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.18);
  z-index: 2;
  border: 2px solid #fff2;
}
.slider-item img {
  width: 100%;
  height: 120px;
  object-fit: cover;
  border-radius: var(--radius, 16px) var(--radius, 16px) 0 0;
  filter: brightness(0.92);
}
.slider-info {
  padding: 18px 14px 16px 14px;
  text-align: left;
  width: 100%;
}
.slider-info h3 {
  margin: 0 0 6px 0;
  color: var(--secondary, #222);
  font-size: 1.15rem;
  font-weight: 700;
  letter-spacing: 0.5px;
}
.slider-info p {
  margin: 0;
  color: var(--muted, #666);
  font-size: 0.98rem;
  line-height: 1.4;
}
.slider-nav {
  background: var(--secondary, #222);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 44px; height: 44px;
  font-size: 1.7rem;
  cursor: pointer;
  transition: background 0.2s, transform 0.2s;
  box-shadow: 0 2px 12px rgba(0,188,212,0.12);
  z-index: 10;
  margin: 0 8px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.slider-nav:hover { background: var(--primary, #ff4081); transform: scale(1.1);}
@media (max-width: 900px) {
  .slider-item, .slider-item img { min-width: 33vw; max-width: 33vw; height: 90px;}
}
@media (max-width: 600px) {
  .slider-item, .slider-item img { min-width: 50vw; max-width: 50vw; height: 60px;}
}
</style>

<script>
const genresSlider = document.getElementById('genresSlider');
const prevBtn = document.querySelector('.slider-nav.prev');
const nextBtn = document.querySelector('.slider-nav.next');

function getScrollAmount() {
  // Get the width of one item
  const item = genresSlider.querySelector('.slider-item');
  if (!item) return 0;
  const style = window.getComputedStyle(item);
  const itemWidth = item.offsetWidth + parseInt(style.marginLeft) + parseInt(style.marginRight);
  return itemWidth * 4; // 4 items at a time
}

prevBtn.addEventListener('click', () => {
  genresSlider.scrollBy({ left: -getScrollAmount(), behavior: 'smooth' });
});
nextBtn.addEventListener('click', () => {
  genresSlider.scrollBy({ left: getScrollAmount(), behavior: 'smooth' });
});
</script>
  </section>

  <!-- TRENDING SECTION -->
  <section>
    <!-- TRENDING SECTION -->
<section id="trending" class="trending-section">
  <h2><span>🔥</span> Trending</h2>
  <div class="slider-container" id="trendingSliderContainer">
    <button class="slider-nav prev" aria-label="Previous trending">&#10094;</button>
    <div class="slider" id="trendingSlider" tabindex="0">
      <div class="slider-item" tabindex="0">
        <img src="https://static1.srcdn.com/wordpress/wp-content/uploads/2024/07/demon-slayer-infinity-castle-movie.jpg" alt="Demon Slayer">
        <div class="slider-info">
          <h3>Demon Slayer</h3>
          <p>Infinity Castle Arc is here!</p>
        </div>
      </div>
      <div class="slider-item" tabindex="0">
        <img src="https://imgsrv.crunchyroll.com/cdn-cgi/image/fit=contain,format=auto,quality=85,width=2700/CurationAssets/Solo%20Leveling/SEASON%202/MARKETING%20BANNER/SoloLeveling-S2-KV1-Banner-2100x700-EN.png" alt="Solo Leveling">
        <div class="slider-info">
          <h3>Solo Leveling</h3>
          <p>Season 2 is trending worldwide!</p>
        </div>
      </div>
      <div class="slider-item" tabindex="0">
        <img src="https://cdn.myanimelist.net/images/anime/10/47347.jpg" alt="Your Name">
        <div class="slider-info">
          <h3>Your Name</h3>
          <p>Romance that touched millions.</p>
        </div>
      </div>
      <div class="slider-item" tabindex="0">
        <img src="https://cdn.myanimelist.net/images/anime/13/17405.jpg" alt="Attack on Titan">
        <div class="slider-info">
          <h3>Attack on Titan</h3>
          <p>The epic finale is trending!</p>
        </div>
      </div>
      <div class="slider-item" tabindex="0">
        <img src="https://cdn.myanimelist.net/images/anime/5/73199.jpg" alt="One Punch Man">
        <div class="slider-info">
          <h3>One Punch Man</h3>
          <p>New season announced!</p>
        </div>
      </div>
    </div>
    <button class="slider-nav next" aria-label="Next trending">&#10095;</button>
  </div>
</section>

<style>

.trending-section {
  width: 100vw;
  margin: 0;
  padding: 0;
  background: var(--section-bg-dark);
  box-shadow: 0 8px 32px rgba(0,0,0,0.06);
  overflow-x: hidden;
  position: relative;
  animation: fadeInUp 0.7s cubic-bezier(.4,1.4,.6,1) 0.1s both;
}
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(40px);}
  to { opacity: 1; transform: none;}
}
.trending-section h2 {
  color: var(--primary);
  font-size: 2.1rem;
  margin-left: 500px;
  padding-top: 48px;
  font-family: var(--font);
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  gap: 12px;
  font-weight: 800;
  text-shadow: 0 2px 8px #fff4;
}
.slider-container {
  display: flex;
  align-items: center;
  gap: 0;
  width: 100vw;
  padding-bottom: 48px;
  position: relative;
}
.slider {
  display: flex;
  gap: 0;
  overflow-x: auto;
  scroll-behavior: smooth;
  width: 100vw;
  padding-left: 0;
  padding-right: 0;
  scrollbar-width: none;
}
.slider::-webkit-scrollbar { display: none; }
.slider-item {
  min-width: 25vw;
  max-width: 25vw;
  background: var(--card-bg);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
  transition: transform 0.18s, box-shadow 0.18s;
  cursor: pointer;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 0;
  border: 1.5px solid #d1c4e9;
  will-change: transform;
  outline: none;
}
.slider-item:focus-visible {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px #ff408155;
}
.slider-item:hover, .slider-item:focus-within {
  transform: translateY(-8px) scale(1.04);
  box-shadow: 0 8px 32px rgba(255,64,129,0.18);
  z-index: 2;
  border-color: var(--primary);
}
.slider-item img {
  width: 100%;
  height: 120px;
  object-fit: cover;
  border-radius: var(--radius) var(--radius) 0 0;
  filter: brightness(0.92);
  transition: filter 0.2s;
}
.slider-item:hover img, .slider-item:focus-within img {
  filter: brightness(1) saturate(1.1);
}
.slider-info {
  padding: 18px 14px 16px 14px;
  text-align: left;
  width: 100%;
  background: linear-gradient(0deg, #fff 90%, #fff0 100%);
}
.slider-info h3 {
  margin: 0 0 6px 0;
  color: var(--secondary);
  font-size: 1.15rem;
  font-weight: 700;
  letter-spacing: 0.5px;
  text-shadow: 0 1px 2px #fff8;
}
.slider-info p {
  margin: 0;
  color: var(--muted);
  font-size: 0.98rem;
  line-height: 1.4;
}
.slider-nav {
  background: var(--secondary);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 44px; height: 44px;
  font-size: 1.7rem;
  cursor: pointer;
  transition: background 0.2s, transform 0.2s;
  box-shadow: 0 2px 12px rgba(0,188,212,0.12);
  z-index: 10;
  margin: 0 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0.92;
  outline: none;
}
.slider-nav:hover, .slider-nav:focus {
  background: var(--primary);
  transform: scale(1.1);
  opacity: 1;
}
.slider-nav[disabled] {
  opacity: 0.3;
  pointer-events: none;
}
.slider-container.hide-nav .slider-nav { display: none; }
@media (max-width: 900px) {
  .trending-section h2 { font-size: 1.4rem; padding-top: 28px; margin-bottom: 18px;}
  .slider-item, .slider-item img { min-width: 33.333vw; max-width: 33.333vw; height: 90px;}
  .slider-info { padding: 10px 8px 10px 8px; }
  .slider-nav { width: 36px; height: 36px; font-size: 1.2rem;}
}
@media (max-width: 600px) {
  .trending-section h2 { font-size: 1.1rem; padding-top: 18px; margin-bottom: 10px;}
  .slider-item, .slider-item img { min-width: 80vw; max-width: 80vw; height: 60px;}
  .slider-info h3 { font-size: 0.9rem;}
  .slider-info p { font-size: 0.8rem;}
  .slider-nav { width: 28px; height: 28px; font-size: 1rem;}
}
</style>

<script>
function setupSlider(sliderId, containerId, itemsPerScrollDesktop = 4, itemsPerScrollTablet = 3, itemsPerScrollMobile = 1) {
  const slider = document.getElementById(sliderId);
  const container = document.getElementById(containerId);
  const prevBtn = container.querySelector('.slider-nav.prev');
  const nextBtn = container.querySelector('.slider-nav.next');
  const items = slider.querySelectorAll('.slider-item');

  function updateNavVisibility() {
    let itemsPerView = 4;
    if (window.innerWidth <= 600) itemsPerView = itemsPerScrollMobile;
    else if (window.innerWidth <= 900) itemsPerView = itemsPerScrollTablet;
    else itemsPerView = itemsPerScrollDesktop;
    if (items.length <= itemsPerView) {
      container.classList.add('hide-nav');
    } else {
      container.classList.remove('hide-nav');
    }
  }
  updateNavVisibility();
  window.addEventListener('resize', updateNavVisibility);

  function getScrollAmount() {
    const item = slider.querySelector('.slider-item');
    if (!item) return 0;
    const style = window.getComputedStyle(item);
    const itemWidth = item.offsetWidth + parseInt(style.marginLeft) + parseInt(style.marginRight);
    if (window.innerWidth <= 600) return itemWidth * itemsPerScrollMobile;
    if (window.innerWidth <= 900) return itemWidth * itemsPerScrollTablet;
    return itemWidth * itemsPerScrollDesktop;
  }

  prevBtn.addEventListener('click', () => {
    slider.scrollBy({ left: -getScrollAmount(), behavior: 'smooth' });
  });
  nextBtn.addEventListener('click', () => {
    slider.scrollBy({ left: getScrollAmount(), behavior: 'smooth' });
  });

  // Keyboard navigation for accessibility
  slider.addEventListener('keydown', e => {
    if (e.key === 'ArrowRight') nextBtn.click();
    if (e.key === 'ArrowLeft') prevBtn.click();
  });
}
setupSlider('trendingSlider', 'trendingSliderContainer', 4, 3, 1);
</script>
  </section>

  <!-- MY LIST / WATCHLIST SECTION -->
 <section>
    <!-- MY LIST / WATCHLIST SECTION -->
<section id="mylist" class="watchlist-section">
  <h2><span>⭐</span> My List</h2>
  <div class="add-demo" id="addDemo"></div>
  <div class="watchlist" id="watchlist"></div>
</section>

<style>
.watchlist-section {
   max-width: 100%; 
  margin: 0;
  padding: 0 0 48px 0;
  background: var(--section-bg);
  box-shadow: 0 8px 32px rgba(0,0,0,0.06);
  position: relative;
  animation: fadeInUp 0.7s cubic-bezier(.4,1.4,.6,1) 0.1s both;
}
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(40px);}
  to { opacity: 1; transform: none;}
}
.watchlist-section h2 {
  color: var(--primary);
  font-size: 2.1rem;
  margin: 0 0 28px 0;
  padding-top: 48px;
  font-family: var(--font);
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  gap: 12px;
  font-weight: 800;
  text-shadow: 0 2px 8px #fff4;
}
.add-demo {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 18px;
  margin: 24px 0 32px 0;
  padding: 0 2vw;
}
.add-card {
  background: var(--card-bg);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
  align-items: center;
  overflow: hidden;
  position: relative;
  border: 1.5px solid #f8bbd0;
  transition: box-shadow 0.18s, transform 0.18s, border-color 0.18s;
  min-height: 260px;
}
.add-card:hover, .add-card:focus-within {
  box-shadow: 0 8px 32px rgba(255,64,129,0.18);
  border-color: var(--primary);
  transform: translateY(-6px) scale(1.03);
  z-index: 2;
}
.add-card img {
  width: 100%;
  height: 120px;
  object-fit: cover;
  border-radius: var(--radius) var(--radius) 0 0;
  filter: brightness(0.95);
  transition: filter 0.2s;
}
.add-card:hover img, .add-card:focus-within img {
  filter: brightness(1) saturate(1.1);
}
.add-info {
  padding: 14px 10px 10px 10px;
  width: 100%;
  text-align: center;
  flex: 1 1 auto;
}
.add-info h3 {
  margin: 0 0 8px 0;
  color: var(--secondary);
  font-size: 1.08rem;
  font-weight: 700;
  letter-spacing: 0.5px;
}
.add-btn {
  background: var(--primary);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 8px 16px;
  font-size: 1rem;
  font-family: var(--font);
  cursor: pointer;
  box-shadow: 0 2px 8px #ff408122;
  transition: background 0.2s, transform 0.2s;
  font-weight: 600;
  margin-top: 8px;
  width: 90%;
  outline: none;
}
.add-btn:disabled {
  background: #e0e0e0;
  color: #aaa;
  cursor: not-allowed;
}
.add-btn:hover:not(:disabled), .add-btn:focus:not(:disabled) {
  background: #e040fb;
  transform: translateY(-2px) scale(1.04);
  outline: none;
}
.watchlist {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 28px;
  padding: 0 2vw;
  margin-bottom: 0;
  min-height: 120px;
  align-items: stretch;
}
.watchlist-card {
  background: var(--card-bg);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  overflow: hidden;
  position: relative;
  transition: box-shadow 0.18s, transform 0.18s, border-color 0.18s;
  border: 1.5px solid #f8bbd0;
  min-height: 320px;
  animation: fadeInCard 0.5s;
}
@keyframes fadeInCard {
  from { opacity: 0; transform: scale(0.95);}
  to { opacity: 1; transform: none;}
}
.watchlist-card:hover, .watchlist-card:focus-within {
  box-shadow: 0 8px 32px rgba(255,64,129,0.18);
  border-color: var(--primary);
  transform: translateY(-6px) scale(1.03);
  z-index: 2;
}
.watchlist-card img {
  width: 100%;
  height: 160px;
  object-fit: cover;
  border-radius: var(--radius) var(--radius) 0 0;
  filter: brightness(0.95);
  transition: filter 0.2s;
}
.watchlist-card:hover img, .watchlist-card:focus-within img {
  filter: brightness(1) saturate(1.1);
}
.watchlist-info {
  padding: 18px 14px 16px 14px;
  width: 100%;
  background: linear-gradient(0deg, #fff 90%, #fff0 100%);
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
}
.watchlist-info h3 {
  margin: 0 0 8px 0;
  color: var(--secondary);
  font-size: 1.15rem;
  font-weight: 700;
  letter-spacing: 0.5px;
  text-shadow: 0 1px 2px #fff8;
}
.watchlist-info p {
  margin: 0 0 10px 0;
  color: var(--muted);
  font-size: 0.98rem;
  line-height: 1.4;
}
.remove-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  background: #fff;
  color: var(--primary);
  border: none;
  border-radius: 50%;
  width: 34px; height: 34px;
  font-size: 1.2rem;
  cursor: pointer;
  box-shadow: 0 2px 8px #ff408122;
  transition: background 0.2s, color 0.2s, transform 0.2s;
  z-index: 3;
  display: flex;
  align-items: center;
  justify-content: center;
}
.remove-btn:hover, .remove-btn:focus {
  background: var(--primary);
  color: #fff;
  transform: scale(1.1);
  outline: none;
}
.empty-state {
  color: var(--muted);
  font-size: 1.1rem;
  text-align: center;
  padding: 48px 0 24px 0;
  width: 100%;
  grid-column: 1/-1;
  opacity: 0.7;
  letter-spacing: 0.5px;
}
@media (max-width: 900px) {
  .watchlist-section h2 { font-size: 1.4rem; padding-top: 28px; margin-bottom: 18px;}
  .watchlist, .add-demo { gap: 18px; }
  .watchlist-card { min-height: 220px; }
  .add-card { min-height: 180px; }
  .add-btn { font-size: 0.95rem; padding: 8px 12px;}
}
@media (max-width: 600px) {
  .watchlist-section h2 { font-size: 1.1rem; padding-top: 18px; margin-bottom: 10px;}
  .watchlist, .add-demo { gap: 10px; padding: 0 1vw;}
  .watchlist-card { min-height: 180px; }
  .add-card { min-height: 120px; }
  .watchlist-info h3 { font-size: 0.9rem;}
  .watchlist-info p { font-size: 0.8rem;}
  .add-btn { font-size: 0.9rem; padding: 7px 8px;}
}
</style>

<script>
const animeData = [
  {
    name: "Attack on Titan",
    img: "https://mrwallpaper.com/images/featured/attack-on-titan-znbb30tucz5g0wqk.jpg",
    desc: "Epic battles and high stakes in a world under siege by titans."
  },
  {
    name: "Demon Slayer",
    img: "https://static1.srcdn.com/wordpress/wp-content/uploads/2024/07/demon-slayer-infinity-castle-movie.jpg",
    desc: "Infinity Castle Arc is here! Follow Tanjiro and friends."
  },
  {
    name: "Solo Leveling",
    img: "https://imgsrv.crunchyroll.com/cdn-cgi/image/fit=contain,format=auto,quality=85,width=2700/CurationAssets/Solo%20Leveling/SEASON%202/MARKETING%20BANNER/SoloLeveling-S2-KV1-Banner-2100x700-EN.png",
    desc: "Season 2 is trending worldwide! Hunters, dungeons, and more."
  },
  {
    name: "Your Name",
    img: "https://naruto-official.com/common/ogp/NTOS_OG-main.png",
    desc: "A romance that touched millions. A story of fate and connection."
  },
  {
    name: "One Punch Man",
    img: "https://naruto-official.com/common/ogp/NTOS_OG-main.png",
    desc: "Saitama is back! New season, new villains, same punch."
  },
  {
    name: "Naruto",
    img: "https://naruto-official.com/common/ogp/NTOS_OG-main.png",
    desc: "Journey with Naruto and friends in the ninja world."
  }
];

function getWatchlist() {
  try {
    return JSON.parse(localStorage.getItem('myAnimeWatchlist')) || [];
  } catch {
    return [];
  }
}
function setWatchlist(list) {
  localStorage.setItem('myAnimeWatchlist', JSON.stringify(list));
}
function renderAddDemo() {
  const container = document.getElementById('addDemo');
  container.innerHTML = '';
  const watchlist = getWatchlist();
  animeData.forEach(anime => {
    const card = document.createElement('div');
    card.className = 'add-card';
    card.tabIndex = 0;
    card.innerHTML = `
      <img src="${anime.img}" alt="${anime.name}">
      <div class="add-info">
        <h3>${anime.name}</h3>
        <button class="add-btn" onclick="addToWatchlist('${anime.name}')" ${watchlist.includes(anime.name) ? 'disabled' : ''}>
          ${watchlist.includes(anime.name) ? 'Added' : 'Add to My List'}
        </button>
      </div>
    `;
    container.appendChild(card);
  });
}
function renderWatchlist() {
  const list = getWatchlist();
  const container = document.getElementById('watchlist');
  container.innerHTML = '';
  if (!list.length) {
    container.innerHTML = `<div class="empty-state">Your watchlist is empty.<br>Add your favorite anime to get started!</div>`;
    return;
  }
  list.forEach(animeName => {
    const anime = animeData.find(a => a.name === animeName) || {};
    const card = document.createElement('div');
    card.className = 'watchlist-card';
    card.tabIndex = 0;
    card.innerHTML = `
      <button class="remove-btn" aria-label="Remove ${anime.name}" onclick="removeFromWatchlist('${anime.name}')">
        <i class="fa fa-times"></i>
      </button>
      <img src="${anime.img || 'https://via.placeholder.com/400x200?text=No+Image'}" alt="${anime.name}">
      <div class="watchlist-info">
        <h3>${anime.name}</h3>
        <p>${anime.desc || ''}</p>
      </div>
    `;
    container.appendChild(card);
  });
}
function addToWatchlist(animeName) {
  let list = getWatchlist();
  if (!list.includes(animeName)) {
    list.push(animeName);
    setWatchlist(list);
    renderWatchlist();
    renderAddDemo();
  }
}
function removeFromWatchlist(animeName) {
  let list = getWatchlist();
  list = list.filter(a => a !== animeName);
  setWatchlist(list);
  renderWatchlist();
  renderAddDemo();
}
// Keyboard accessibility: Remove on DEL/Backspace
document.addEventListener('keydown', function(e) {
  if ((e.key === "Delete" || e.key === "Backspace") && document.activeElement.classList.contains('watchlist-card')) {
    const anime = document.activeElement.querySelector('h3')?.textContent;
    if (anime) removeFromWatchlist(anime);
  }
});
renderAddDemo();
renderWatchlist();
</script>
<!-- Font Awesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
 </section>

  <!-- QUIZ SECTION -->
 <section>
    <section class="quiz-section">
  <div class="quiz-container">
    <h2>Anime Quiz</h2>
    <div id="progress-bar">
      <div id="progress"></div>
    </div>
    <div id="quiz-content">
      <div id="spinner" class="spinner"></div>
      <div id="question-wrap">
        <p id="question" aria-live="polite">Loading question...</p>
      </div>
      <div id="answers" role="radiogroup"></div>
      <button id="next-btn" onclick="nextQuestion()" disabled>Next</button>
      <p id="score">Score: 0</p>
    </div>
    <canvas id="confetti-canvas"></canvas>
  </div>
</section>

<style>
.quiz-section {
   max-width: 100%; 
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

.quiz-container {
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 8px 32px rgba(60, 60, 120, 0.15);
  padding: 2.5rem 2rem;
  max-width: 400px;
  width: 100%;
  text-align: center;
  position: relative;
  animation: fadeIn 1s;
  overflow: visible;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(30px);}
  to { opacity: 1; transform: translateY(0);}
}

h2 {
  margin-bottom: 1.5rem;
  color: #3a3a6a;
  letter-spacing: 1px;
}

#progress-bar {
  width: 100%;
  height: 8px;
  background: #e0e0e0;
  border-radius: 4px;
  margin-bottom: 1.5rem;
  overflow: hidden;
}

#progress {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #ff8a00, #e52e71);
  transition: width 0.6s cubic-bezier(.4,2,.6,1);
}

#spinner {
  display: none;
  margin: 1rem auto;
  border: 4px solid #f3f3f3;
  border-top: 4px solid #e52e71;
  border-radius: 50%;
  width: 32px;
  height: 32px;
  animation: spin 1s linear infinite;
  opacity: 0;
  transition: opacity 0.4s;
}

#spinner.active {
  display: block;
  opacity: 1;
}

@keyframes spin {
  100% { transform: rotate(360deg); }
}

#question-wrap {
  min-height: 48px;
  margin-bottom: 1.2rem;
  transition: opacity 0.4s, transform 0.4s;
}

#question {
  font-size: 1.2rem;
  margin: 0;
}

#answers {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin-bottom: 1.5rem;
}

.answer-btn {
  background: #f5f7fa;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  padding: 0.75rem 1rem;
  font-size: 1rem;
  cursor: pointer;
  transition: background 0.2s, border 0.2s, color 0.2s, transform 0.2s;
  outline: none;
  position: relative;
  z-index: 1;
  box-shadow: 0 2px 8px rgba(60,60,120,0.04);
}

.answer-btn:hover:not(:disabled),
.answer-btn:focus-visible:not(:disabled) {
  border-color: #e52e71;
  background: #ffe3f0;
  transform: scale(1.03);
}

.answer-btn.selected {
  border-color: #e52e71;
  background: #ffe3f0;
}

.answer-btn.correct {
  background: #d4f8e8;
  border-color: #34c759;
  color: #1b5e20;
  animation: pulse 0.5s;
}

.answer-btn.incorrect {
  background: #ffe3e3;
  border-color: #ff3b30;
  color: #b71c1c;
  animation: shake 0.4s;
}

@keyframes pulse {
  0% { transform: scale(1);}
  50% { transform: scale(1.08);}
  100% { transform: scale(1);}
}

@keyframes shake {
  0% { transform: translateX(0);}
  20% { transform: translateX(-8px);}
  40% { transform: translateX(8px);}
  60% { transform: translateX(-8px);}
  80% { transform: translateX(8px);}
  100% { transform: translateX(0);}
}

.answer-btn:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}

#next-btn {
  background: linear-gradient(90deg, #ff8a00, #e52e71);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 0.7rem 2.2rem;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s, opacity 0.2s, transform 0.2s;
  margin-bottom: 1rem;
  opacity: 0.8;
  box-shadow: 0 2px 8px rgba(60,60,120,0.04);
}

#next-btn:enabled {
  opacity: 1;
  transform: scale(1.03);
}

#next-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

#score {
  font-size: 1.1rem;
  color: #3a3a6a;
  margin-top: 0.5rem;
  letter-spacing: 1px;
}

#quiz-content h3 {
  color: #e52e71;
  margin-bottom: 0.5rem;
}

#quiz-content button.restart-btn {
  background: linear-gradient(90deg, #e52e71, #ff8a00);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 0.7rem 2.2rem;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  margin-top: 1.2rem;
  transition: background 0.2s, opacity 0.2s, transform 0.2s;
  animation: fadeIn 0.7s;
}

#quiz-content button.restart-btn:hover {
  opacity: 0.85;
  transform: scale(1.04);
}

#confetti-canvas {
  position: absolute;
  left: 0; top: 0;
  width: 100%; height: 100%;
  pointer-events: none;
  z-index: 10;
  display: none;
}

@media (max-width: 500px) {
  .quiz-container {
    padding: 1.2rem 0.5rem;
    max-width: 98vw;
  }
}
</style>

<script>
const questions = [
  {
    question: "Who is the main protagonist of 'Naruto'?",
    answers: ["Sasuke Uchiha", "Naruto Uzumaki", "Sakura Haruno", "Kakashi Hatake"],
    correct: 1
  },
  {
    question: "Which anime features the 'Death Note'?",
    answers: ["Bleach", "Death Note", "One Piece", "Attack on Titan"],
    correct: 1
  },
  {
    question: "What is the name of the pirate crew led by Monkey D. Luffy?",
    answers: ["Red Hair Pirates", "Straw Hat Pirates", "Blackbeard Pirates", "Whitebeard Pirates"],
    correct: 1
  },
  {
    question: "In 'Attack on Titan', what are the giant creatures called?",
    answers: ["Ghouls", "Titans", "Hollows", "Demons"],
    correct: 1
  },
  {
    question: "Which anime character says 'I am gonna be King of the Pirates!'?",
    answers: ["Naruto Uzumaki", "Goku", "Monkey D. Luffy", "Edward Elric"],
    correct: 2
  }
];

let current = 0, score = 0, selected = null;
let canAnswer = true;

function showSpinner(show) {
  const spinner = document.getElementById('spinner');
  if (show) {
    spinner.classList.add('active');
  } else {
    spinner.classList.remove('active');
  }
}

function animateQuestionOut(callback) {
  const wrap = document.getElementById('question-wrap');
  wrap.style.opacity = 0;
  wrap.style.transform = 'translateY(20px)';
  setTimeout(callback, 350);
}

function animateQuestionIn() {
  const wrap = document.getElementById('question-wrap');
  wrap.style.opacity = 1;
  wrap.style.transform = 'translateY(0)';
}

function renderQuestion() {
  showSpinner(false);
  canAnswer = true;
  const q = questions[current];
  animateQuestionOut(() => {
    document.getElementById('question').textContent = q.question;
    animateQuestionIn();
  });
  const answersDiv = document.getElementById('answers');
  answersDiv.innerHTML = '';
  q.answers.forEach((ans, idx) => {
    const btn = document.createElement('button');
    btn.className = 'answer-btn';
    btn.textContent = ans;
    btn.setAttribute('role', 'radio');
    btn.setAttribute('aria-checked', 'false');
    btn.setAttribute('tabindex', idx === 0 ? "0" : "-1");
    btn.onclick = () => selectAnswer(idx, btn);
    btn.onkeydown = (e) => handleAnswerKeydown(e, idx);
    answersDiv.appendChild(btn);
  });
  document.getElementById('next-btn').disabled = true;
  updateProgress();
}

function selectAnswer(idx, btn) {
  if (selected !== null || !canAnswer) return;
  canAnswer = false;
  selected = idx;
  const q = questions[current];
  const buttons = document.querySelectorAll('.answer-btn');
  buttons.forEach((b, i) => {
    b.disabled = true;
    b.setAttribute('aria-checked', i === idx ? 'true' : 'false');
    if (i === q.correct) b.classList.add('correct');
    if (i === idx && i !== q.correct) b.classList.add('incorrect');
    if (i === idx) b.classList.add('selected');
  });
  if (idx === q.correct) {
    score++;
    document.getElementById('score').textContent = `Score: ${score}`;
    setTimeout(() => {
      document.getElementById('next-btn').disabled = false;
      canAnswer = true;
    }, 500);
  } else {
    setTimeout(() => {
      document.getElementById('next-btn').disabled = false;
      canAnswer = true;
    }, 600);
  }
}

function handleAnswerKeydown(e, idx) {
  const buttons = Array.from(document.querySelectorAll('.answer-btn'));
  if (e.key === "ArrowDown" || e.key === "ArrowRight") {
    e.preventDefault();
    const next = (idx + 1) % buttons.length;
    buttons[next].focus();
  } else if (e.key === "ArrowUp" || e.key === "ArrowLeft") {
    e.preventDefault();
    const prev = (idx - 1 + buttons.length) % buttons.length;
    buttons[prev].focus();
  } else if (e.key === "Enter" || e.key === " ") {
    e.preventDefault();
    buttons[idx].click();
  }
}

function nextQuestion() {
  if (current < questions.length - 1) {
    current++;
    selected = null;
    renderQuestion();
  } else {
    showResult();
  }
}

function updateProgress() {
  const percent = ((current) / questions.length) * 100;
  document.getElementById('progress').style.width = `${percent}%`;
}

function showResult() {
  document.getElementById('quiz-content').innerHTML = `
    <h3>Quiz Complete!</h3>
    <p>Your final score: <strong>${score} / ${questions.length}</strong></p>
    <button class="restart-btn" onclick="restartQuiz()">Restart</button>
  `;
  document.getElementById('progress').style.width = `100%`;
  launchConfetti();
}

function restartQuiz() {
  current = 0;
  score = 0;
  selected = null;
  document.getElementById('quiz-content').innerHTML = `
    <div id="spinner" class="spinner"></div>
    <div id="question-wrap">
      <p id="question" aria-live="polite">Loading question...</p>
    </div>
    <div id="answers" role="radiogroup"></div>
    <button id="next-btn" onclick="nextQuestion()" disabled>Next</button>
    <p id="score">Score: 0</p>
  `;
  setTimeout(renderQuestion, 500);
  updateProgress();
  stopConfetti();
}

window.onload = function() {
  showSpinner(true);
  setTimeout(renderQuestion, 800);
};

// Confetti animation
let confettiActive = false;
let confettiParticles = [];
let confettiCanvas, confettiCtx, confettiW, confettiH, confettiAnim;

function launchConfetti() {
  confettiCanvas = document.getElementById('confetti-canvas');
  confettiCanvas.style.display = 'block';
  confettiW = confettiCanvas.width = confettiCanvas.offsetWidth;
  confettiH = confettiCanvas.height = confettiCanvas.offsetHeight;
  confettiCtx = confettiCanvas.getContext('2d');
  confettiParticles = [];
  for (let i = 0; i < 80; i++) {
    confettiParticles.push({
      x: Math.random() * confettiW,
      y: Math.random() * -confettiH,
      r: Math.random() * 6 + 4,
      d: Math.random() * 80 + 40,
      color: `hsl(${Math.random()*360},90%,60%)`,
      tilt: Math.random() * 10 - 10,
      tiltAngle: 0,
      tiltAngleIncremental: (Math.random() * 0.07) + 0.05
    });
  }
  confettiActive = true;
  confettiDraw();
}

function confettiDraw() {
  if (!confettiActive) return;
  confettiCtx.clearRect(0, 0, confettiW, confettiH);
  confettiParticles.forEach(p => {
    p.y += (Math.cos(p.d) + 3 + p.r/2) / 2;
    p.x += Math.sin(0.01 * p.d);
    p.tiltAngle += p.tiltAngleIncremental;
    p.tilt = Math.sin(p.tiltAngle) * 15;
    confettiCtx.beginPath();
    confettiCtx.lineWidth = p.r;
    confettiCtx.strokeStyle = p.color;
    confettiCtx.moveTo(p.x + p.tilt + p.r/3, p.y);
    confettiCtx.lineTo(p.x + p.tilt, p.y + p.tilt + 10);
    confettiCtx.stroke();
  });
  confettiParticles = confettiParticles.filter(p => p.y < confettiH + 20);
  if (confettiParticles.length > 0) {
    confettiAnim = requestAnimationFrame(confettiDraw);
  } else {
    confettiCanvas.style.display = 'none';
    confettiActive = false;
  }
}

function stopConfetti() {
  confettiActive = false;
  if (confettiCanvas) confettiCanvas.style.display = 'none';
  if (confettiAnim) cancelAnimationFrame(confettiAnim);
}
</script>
 </section>

  <!-- CHARACTER SPOTLIGHT -->
  <section>
    <!-- CHARACTER SPOTLIGHT -->
<section class="character-spotlight">
  <h2>Character Spotlight</h2>
  <div class="character-card" id="character-card">
    <button class="nav-btn left" id="prev-btn" aria-label="Previous character">&#8592;</button>
    <div class="character-content">
      <img id="char-img" src="" width="180" height="180" alt="" />
      <div class="details">
        <h3 id="char-name"></h3>
        <p id="char-quote"></p>
      </div>
    </div>
    <button class="nav-btn right" id="next-btn" aria-label="Next character">&#8594;</button>
  </div>
  <div class="spotlight-dots" id="spotlight-dots"></div>
</section>

<style>
.character-spotlight {
   max-width: 100%;
   height: 400px;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 48px 0 0 0;
  padding: 0 12px;
}

.character-spotlight h2 {
  color: #e52e71;
  font-size: 2rem;
  margin-top: 2rem;
  margin-bottom: 2rem;
  letter-spacing: 1px;
  text-align: center;
}

.character-card {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0;
  background: #fff;
  border-radius: 24px;
  box-shadow: 0 8px 32px rgba(60, 60, 120, 0.13);
  padding: 2rem 1.5rem;
  min-width: 320px;
  max-width: 480px;
  width: 100%;
  position: relative;
  overflow: hidden;
  animation: cardIn 0.8s cubic-bezier(.4,2,.6,1);
  transition: box-shadow 0.2s;
}

@keyframes cardIn {
  from { opacity: 0; transform: translateY(40px) scale(0.95);}
  to { opacity: 1; transform: translateY(0) scale(1);}
}

.character-content {
  display: flex;
  align-items: center;
  gap: 24px;
  width: 100%;
}

.character-card img {
  border-radius: 50%;
  object-fit: cover;
  width: 120px;
  height: 120px;
  box-shadow: 0 4px 16px rgba(229,46,113,0.13);
  border: 4px solid #ffe3f0;
  transition: transform 0.3s, box-shadow 0.3s;
  background: #f5f7fa;
}

.character-card img:hover {
  transform: scale(1.08) rotate(-3deg);
  box-shadow: 0 8px 32px rgba(229,46,113,0.18);
}

.details {
  flex: 1;
  min-width: 0;
}

.details h3 {
  margin: 0 0 0.5rem 0;
  color: #3a3a6a;
  font-size: 1.3rem;
  letter-spacing: 1px;
  font-weight: 700;
}

.details p {
  margin: 0;
  color: #666;
  font-size: 1.05rem;
  font-style: italic;
  min-height: 48px;
  transition: opacity 0.5s;
  opacity: 1;
}

.nav-btn {
  background: linear-gradient(90deg, #ff8a00, #e52e71);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 38px;
  height: 38px;
  font-size: 1.5rem;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(60,60,120,0.08);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s, transform 0.2s;
  z-index: 2;
  opacity: 0.85;
  position: relative;
}

.nav-btn:active {
  transform: scale(0.93);
}

.nav-btn.left { margin-right: 12px; }
.nav-btn.right { margin-left: 12px; }

.spotlight-dots {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-top: 18px;
}

.spotlight-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #e0e0e0;
  transition: background 0.3s, transform 0.3s;
  cursor: pointer;
  border: none;
  outline: none;
}

.spotlight-dot.active {
  background: linear-gradient(90deg, #ff8a00, #e52e71);
  transform: scale(1.2);
}

@media (max-width: 600px) {
  .character-card {
    flex-direction: column;
    padding: 1.2rem 0.5rem;
    min-width: 0;
    max-width: 98vw;
  }
  .character-content {
    flex-direction: column;
    gap: 16px;
  }
  .nav-btn.left, .nav-btn.right {
    margin: 0 8px;
  }
}
</style>

<script>
const characters = [
  {
    name: "Levi Ackerman",
    img: "https://static.wikia.nocookie.net/shingekinokyojin/images/6/6f/Levi_Ackerman_%28Anime%29_character_image.png",
    quote: "“The only thing we're allowed to do is to believe that we won't regret the choice we made.”"
  },
  {
    name: "Naruto Uzumaki",
    img: "https://static.wikia.nocookie.net/naruto/images/9/97/Naruto_Uzumaki_Part_II.png",
    quote: "“I'm not gonna run away, I never go back on my word! That's my nindo: my ninja way!”"
  },
  {
    name: "Monkey D. Luffy",
    img: "https://static.wikia.nocookie.net/onepiece/images/2/2e/Monkey_D._Luffy_Anime_Pre_Timeskip_Infobox.png",
    quote: "“I don't want to conquer anything. I just think the guy with the most freedom in this whole ocean... is the Pirate King!”"
  },
  {
    name: "Sailor Moon",
    img: "https://static.wikia.nocookie.net/sailormoon/images/2/2e/Usagi_anime.png",
    quote: "“In the name of the moon, I’ll punish you!”"
  },
  {
    name: "Goku",
    img: "https://static.wikia.nocookie.net/dragonball/images/0/01/Goku_anime.png",
    quote: "“I am the hope of the universe. I am the answer to all living things that cry out for peace.”"
  }
];

let currentChar = 0;
let autoAdvanceTimer = null;

function showCharacter(idx, animate=true) {
  currentChar = idx;
  const char = characters[idx];
  const img = document.getElementById('char-img');
  const name = document.getElementById('char-name');
  const quote = document.getElementById('char-quote');
  // Animate out
  if (animate) {
    document.getElementById('character-card').style.animation = 'none';
    void document.getElementById('character-card').offsetWidth; // reflow
    document.getElementById('character-card').style.animation = 'cardIn 0.7s cubic-bezier(.4,2,.6,1)';
    quote.style.opacity = 0;
    setTimeout(() => {
      img.src = char.img;
      img.alt = char.name;
      name.textContent = char.name;
      quote.textContent = char.quote;
      quote.style.opacity = 1;
    }, 250);
  } else {
    img.src = char.img;
    img.alt = char.name;
    name.textContent = char.name;
    quote.textContent = char.quote;
    quote.style.opacity = 1;
  }
  updateDots();
  resetAutoAdvance();
}

function prevCharacter() {
  showCharacter((currentChar - 1 + characters.length) % characters.length);
}

function nextCharacter() {
  showCharacter((currentChar + 1) % characters.length);
}

function updateDots() {
  const dots = document.getElementById('spotlight-dots');
  dots.innerHTML = '';
  characters.forEach((_, i) => {
    const dot = document.createElement('button');
    dot.className = 'spotlight-dot' + (i === currentChar ? ' active' : '');
    dot.setAttribute('aria-label', `Show ${characters[i].name}`);
    dot.onclick = () => showCharacter(i);
    dots.appendChild(dot);
  });
}

function resetAutoAdvance() {
  if (autoAdvanceTimer) clearTimeout(autoAdvanceTimer);
  autoAdvanceTimer = setTimeout(() => {
    nextCharacter();
  }, 8000);
}

// Keyboard navigation
document.addEventListener('keydown', function(e) {
  if (document.activeElement.tagName === 'INPUT' || document.activeElement.tagName === 'TEXTAREA') return;
  if (e.key === "ArrowLeft") {
    prevCharacter();
  } else if (e.key === "ArrowRight") {
    nextCharacter();
  }
});

// Touch/swipe navigation
let touchStartX = null;
document.getElementById('character-card').addEventListener('touchstart', function(e) {
  touchStartX = e.changedTouches[0].screenX;
});
document.getElementById('character-card').addEventListener('touchend', function(e) {
  if (touchStartX === null) return;
  let dx = e.changedTouches[0].screenX - touchStartX;
  if (Math.abs(dx) > 40) {
    if (dx > 0) prevCharacter();
    else nextCharacter();
  }
  touchStartX = null;
});

// Button navigation
document.getElementById('prev-btn').onclick = prevCharacter;
document.getElementById('next-btn').onclick = nextCharacter;

// Initialize
window.addEventListener('DOMContentLoaded', () => {
  showCharacter(0, false);
});
</script>
  </section>

 <section>
    <!-- FAQ SECTION -->
<section class="faq-section">
  <div class="faq-bg"></div>
  <div class="faq-card">
    <h2 class="faq-title">Frequently Asked Questions</h2>
    <div class="faq-search-wrap">
      <span class="faq-search-icon">
        <svg width="20" height="20" fill="none" stroke="#e52e71" stroke-width="2" viewBox="0 0 24 24">
          <circle cx="11" cy="11" r="7"/>
          <line x1="16.5" y1="16.5" x2="21" y2="21"/>
        </svg>
      </span>
      <input type="text" id="faq-search" placeholder="Search FAQs..." aria-label="Search FAQs">
    </div>
    <div class="faq-container" id="faq-container">
      <div class="faq-item">
        <button class="faq-question" aria-expanded="false">
          <span>What is AnimeWorld?</span>
          <span class="arrow">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#e52e71" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </span>
        </button>
        <div class="faq-answer">
          <p>AnimeWorld is your go-to platform for streaming unlimited anime shows and movies, all in one place.</p>
        </div>
      </div>
      <div class="faq-item">
        <button class="faq-question" aria-expanded="false">
          <span>How can I subscribe to premium?</span>
          <span class="arrow">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#e52e71" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </span>
        </button>
        <div class="faq-answer">
          <p>You can subscribe to premium by clicking the "Subscribe" button on the homepage and choosing your plan.</p>
        </div>
      </div>
      <div class="faq-item">
        <button class="faq-question" aria-expanded="false">
          <span>Can I download anime for offline viewing?</span>
          <span class="arrow">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#e52e71" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </span>
        </button>
        <div class="faq-answer">
          <p>Yes! Our premium members can download anime episodes and movies to watch offline.</p>
        </div>
      </div>
      <div class="faq-item">
        <button class="faq-question" aria-expanded="false">
          <span>Which devices are supported?</span>
          <span class="arrow">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#e52e71" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </span>
        </button>
        <div class="faq-answer">
          <p>AnimeWorld is available on web, iOS, Android, Smart TVs, and gaming consoles.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
.faq-section {
  position: relative;
  max-width: 100%;
  min-height: 100vh;
  padding: 64px 0 64px 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1;
  overflow: hidden;
}
.faq-bg {
  position: absolute;
  inset: 0;
  z-index: 0;
  filter: blur(0px);
  opacity: 0.7;
  pointer-events: none;
}
.faq-card {
  position: relative;
  z-index: 1;
  max-width: 540px;
  width: 100%;
  margin: 0 auto;
  border-radius: 24px;
  box-shadow: 0 8px 32px rgba(229,46,113,0.10), 0 1.5px 8px rgba(60,60,120,0.08);
  padding: 2.5rem 2rem 2rem 2rem;
  backdrop-filter: blur(8px);
  animation: fadeIn 1s;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(30px);}
  to { opacity: 1; transform: translateY(0);}
}

.faq-title {
  color: #d2165b;
  font-size: 2.1rem;
  margin: 0 0 2.2rem 0;
  text-align: center;
  letter-spacing: 1px;
  font-weight: 800;
  text-shadow: 0 2px 8px #e90871;
}

.faq-search-wrap {
  display: flex;
  align-items: center;
  background: #f5f7fa;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(60,60,120,0.04);
  padding: 0.2rem 1rem;
  margin-bottom: 1.7rem;
  border: 1.5px solid #e0e0e0;
  transition: border 0.2s;
}
.faq-search-wrap:focus-within {
  border-color: #e52e71;
}
.faq-search-icon {
  margin-right: 0.7rem;
  display: flex;
  align-items: center;
  opacity: 0.7;
}
#faq-search {
  width: 100%;
  border: none;
  background: transparent;
  font-size: 1.08rem;
  padding: 0.7rem 0;
  outline: none;
  color: #3a3a6a;
}
#faq-search::placeholder {
  color: #bdbdbd;
  opacity: 1;
}

.faq-container {
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
}

.faq-item {
  background: rgba(245,247,250,0.95);
  border-radius: 14px;
  box-shadow: 0 2px 8px rgba(60,60,120,0.04);
  overflow: hidden;
  transition: box-shadow 0.2s, background 0.2s;
  border: 1.5px solid #f3f3f3;
  will-change: box-shadow, background;
}
.faq-item.open {
  box-shadow: 0 4px 16px rgba(229,46,113,0.13);
  background: #fff;
  border-color: #ffe3f0;
}

.faq-question {
  width: 100%;
  background: none;
  border: none;
  outline: none;
  text-align: left;
  padding: 1.1rem 1.2rem 1.1rem 1.2rem;
  font-size: 1.13rem;
  color: #3a3a6a;
  font-weight: 700;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: space-between;
  transition: background 0.2s, color 0.2s;
  border-bottom: 1px solid #f3f3f3;
  position: relative;
  letter-spacing: 0.2px;
  gap: 1.2rem;
  user-select: none;
}
.faq-question:focus, .faq-question:hover {
  background: #ffe3f0;
  color: #e52e71;
}
.faq-question .arrow {
  display: flex;
  align-items: center;
  transition: transform 0.5s cubic-bezier(.4,2,.6,1);
}
.faq-item.open .faq-question .arrow {
  transform: rotate(180deg);
}

.faq-answer {
  max-height: 0;
  overflow: hidden;
  background: #fff;
  color: #444;
  font-size: 1.04rem;
  padding: 0 1.2rem;
  transition: max-height 0.6s cubic-bezier(.4,2,.6,1), padding 0.5s, opacity 0.5s;
  opacity: 0;
  border-radius: 0 0 14px 14px;
  box-shadow: 0 2px 8px rgba(229,46,113,0.04);
  will-change: max-height, opacity, padding;
}
.faq-item.open .faq-answer {
  padding: 1.1rem 1.2rem 1.3rem 1.2rem;
  max-height: 300px;
  opacity: 1;
}

.faq-answer p {
  margin: 0;
  line-height: 1.7;
  color: #3a3a6a;
}

@media (max-width: 700px) {
  .faq-card {
    padding: 1.2rem 0.5rem 1.2rem 0.5rem;
    max-width: 98vw;
  }
  .faq-title {
    font-size: 1.3rem;
  }
}
</style>

<script>
const faqItems = document.querySelectorAll('.faq-item');
const faqQuestions = document.querySelectorAll('.faq-question');
const faqSearch = document.getElementById('faq-search');

// Toggle mode: allow multiple open/close
faqQuestions.forEach((btn, idx) => {
  btn.addEventListener('click', () => toggleFAQ(idx));
  btn.addEventListener('keydown', e => {
    if (e.key === "Enter" || e.key === " ") {
      e.preventDefault();
      toggleFAQ(idx);
    }
  });
});

function toggleFAQ(idx) {
  const item = faqItems[idx];
  const btn = item.querySelector('.faq-question');
  const isOpen = item.classList.contains('open');
  item.classList.toggle('open');
  btn.setAttribute('aria-expanded', !isOpen);
}

// Search/filter logic
faqSearch.addEventListener('input', function() {
  const val = this.value.toLowerCase();
  faqItems.forEach(item => {
    const q = item.querySelector('.faq-question span:first-child').textContent.toLowerCase();
    const a = item.querySelector('.faq-answer').textContent.toLowerCase();
    if (q.includes(val) || a.includes(val)) {
      item.style.display = '';
    } else {
      item.style.display = 'none';
    }
  });
});
</script>
 </section>

  <!-- REVIEWS -->
  <section>
    <!-- REVIEWS -->
<section class="reviews-section">
  <div class="reviews-bg"></div>
  <div class="reviews-card">
    <h2 class="reviews-title">What Fans Are Saying</h2>
    <form class="review-form" id="reviewForm" autocomplete="off">
      <div class="form-row">
        <input type="text" id="username" maxlength="20" placeholder="Your Name" aria-label="Your Name" required />
      </div>
      <div class="form-row">
        <textarea id="userReview" maxlength="300" placeholder="Your review..." aria-label="Your review" required></textarea>
      </div>
      <div class="form-row">
        <div class="star-rating" id="starRating" aria-label="Star rating" role="radiogroup" tabindex="0">
          <span data-value="1" tabindex="0" aria-label="1 star">★</span>
          <span data-value="2" tabindex="0" aria-label="2 stars">★</span>
          <span data-value="3" tabindex="0" aria-label="3 stars">★</span>
          <span data-value="4" tabindex="0" aria-label="4 stars">★</span>
          <span data-value="5" tabindex="0" aria-label="5 stars">★</span>
        </div>
      </div>
      <div class="form-row">
        <button type="submit" id="submitBtn">Submit Review</button>
      </div>
      <div class="form-message" id="formMessage"></div>
    </form>
    <div class="reviews-list" id="reviewsList"></div>
  </div>
</section>

<style>
.reviews-section {
  position: relative;
  min-height: 100vh;
  max-width: 100%;
  padding: 64px 0 64px 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1;
  overflow: hidden;
}
.reviews-bg {
  position: absolute;
  inset: 0;
  z-index: 0;
  filter: blur(0px);
  opacity: 0.7;
  pointer-events: none;
}
.reviews-card {
  position: relative;
  z-index: 1;
  max-width: 640px;
  width: 100%;
  margin: 0 auto;
  background: rgba(255,255,255,0.88);
  border-radius: 24px;
  box-shadow: 0 8px 32px rgba(229,46,113,0.10), 0 1.5px 8px rgba(60,60,120,0.08);
  padding: 2.5rem 2rem 2rem 2rem;
  backdrop-filter: blur(8px);
  animation: fadeIn 1s;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(30px);}
  to { opacity: 1; transform: translateY(0);}
}

.reviews-title {
  color: #e52e71;
  font-size: 2.1rem;
  margin: 0 0 2.2rem 0;
  text-align: center;
  letter-spacing: 1px;
  font-weight: 800;
  text-shadow: 0 2px 8px #ffe3f0;
}

.review-form {
  display: flex;

  flex-direction: column;
  gap: 1.1rem;
  margin-bottom: 2.2rem;
  background: rgba(245,247,250,0.95);
  border-radius: 16px;
  box-shadow: 0 2px 8px rgba(60,60,120,0.04);
  padding: 1.2rem 1rem 1rem 1rem;
  border: 1.5px solid #f3f3f3;
  will-change: box-shadow, background;
  position: relative;
}

.form-row {
    margin-right: 30px;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.review-form input,
.review-form textarea {
  width: 100%;
  border: 1.5px solid #e0e0e0;
  border-radius: 8px;
  padding: 0.7rem 1rem;
  font-size: 1rem;
  outline: none;
  background: #fff;
  color: #3a3a6a;
  transition: border 0.2s, box-shadow 0.2s;
  box-shadow: 0 2px 8px rgba(60,60,120,0.04);
  resize: none;
}
.review-form input:focus,
.review-form textarea:focus {
  border-color: #e52e71;
  box-shadow: 0 2px 12px #ffe3f0;
}

.review-form textarea {
  min-height: 70px;
  max-height: 180px;
}

.star-rating {
  display: flex;
  gap: 0.2rem;
  font-size: 1.7rem;
  user-select: none;
  color: #e0e0e0;
  cursor: pointer;
  transition: color 0.2s;
}
.star-rating span {
  transition: color 0.2s, transform 0.2s;
  outline: none;
  border-radius: 4px;
  padding: 0 2px;
}
.star-rating span.selected,
.star-rating span.hovered {
  color: #e52e71;
  text-shadow: 0 2px 8px #ffe3f0;
  transform: scale(1.15) rotate(-5deg);
}
.star-rating span:focus {
  background: #ffe3f0;
}
.star-rating:focus {
  outline: 2px solid #e52e71;
}

#submitBtn {
  background: linear-gradient(90deg, #ff8a00, #e52e71);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 0.7rem 2.2rem;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s, opacity 0.2s, transform 0.2s;
  box-shadow: 0 2px 8px rgba(60,60,120,0.04);
  opacity: 0.9;
}
#submitBtn:active {
  transform: scale(0.97);
}
#submitBtn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.form-message {
  min-height: 24px;
  font-size: 1rem;
  color: #e52e71;
  text-align: center;
  margin-top: 0.2rem;
  transition: opacity 0.3s;
  opacity: 0;
  font-weight: 600;
}
.form-message.visible {
  opacity: 1;
  animation: fadeIn 0.5s;
}
.form-message.success {
  color: #34c759;
}

.reviews-list {
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
  margin-top: 0.5rem;
}

.review-card {
  display: flex;
  align-items: flex-start;
  gap: 1.1rem;
  background: rgba(245,247,250,0.97);
  border-radius: 14px;
  box-shadow: 0 2px 8px rgba(60,60,120,0.04);
  padding: 1.1rem 1.2rem 1.1rem 1.2rem;
  border: 1.5px solid #f3f3f3;
  animation: reviewIn 0.7s cubic-bezier(.4,2,.6,1);
  opacity: 0;
  transform: translateY(30px);
  animation-fill-mode: forwards;
}
@keyframes reviewIn {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
.review-avatar {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: linear-gradient(135deg, #ff8a00 0%, #e52e71 100%);
  color: #fff;
  font-size: 1.3rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px #ffe3f0;
  flex-shrink: 0;
  user-select: none;
  letter-spacing: 1px;
  text-transform: uppercase;
}
.review-content {
  flex: 1;
  min-width: 0;
}
.review-header {
  display: flex;
  align-items: center;
  gap: 0.7rem;
  margin-bottom: 0.2rem;
}
.review-username {
  font-weight: 700;
  color: #e52e71;
  font-size: 1.08rem;
  letter-spacing: 0.5px;
}
.review-stars {
  color: #e52e71;
  font-size: 1.1rem;
  letter-spacing: 0.1em;
  user-select: none;
}
.review-date {
  color: #bdbdbd;
  font-size: 0.93rem;
  margin-left: auto;
}
.review-text {
  color: #3a3a6a;
  font-size: 1.04rem;
  margin-top: 0.2rem;
  line-height: 1.6;
  word-break: break-word;
}

@media (max-width: 700px) {
  .reviews-card {
    padding: 1.2rem 0.5rem 1.2rem 0.5rem;
    max-width: 98vw;
  }
  .reviews-title {
    font-size: 1.3rem;
  }
  .review-avatar {
    width: 38px;
    height: 38px;
    font-size: 1rem;
  }
}
</style>

<script>
const starRating = document.getElementById('starRating');
const stars = Array.from(starRating.querySelectorAll('span'));
let selectedRating = 0;
let hoverRating = 0;

// Star rating hover/click/keyboard
stars.forEach((star, idx) => {
  star.addEventListener('mouseenter', () => {
    hoverRating = idx + 1;
    updateStars();
  });
  star.addEventListener('mouseleave', () => {
    hoverRating = 0;
    updateStars();
  });
  star.addEventListener('click', () => {
    selectedRating = idx + 1;
    updateStars();
  });
  star.addEventListener('keydown', e => {
    if (e.key === "Enter" || e.key === " ") {
      selectedRating = idx + 1;
      updateStars();
    } else if (e.key === "ArrowLeft" && selectedRating > 1) {
      selectedRating--;
      updateStars();
      stars[selectedRating-1].focus();
    } else if (e.key === "ArrowRight" && selectedRating < 5) {
      selectedRating++;
      updateStars();
      stars[selectedRating-1].focus();
    }
  });
  star.addEventListener('focus', () => {
    hoverRating = idx + 1;
    updateStars();
  });
  star.addEventListener('blur', () => {
    hoverRating = 0;
    updateStars();
  });
});
starRating.addEventListener('mouseleave', () => {
  hoverRating = 0;
  updateStars();
});
function updateStars() {
  stars.forEach((star, idx) => {
    star.classList.toggle('selected', idx < selectedRating);
    star.classList.toggle('hovered', hoverRating && idx < hoverRating);
  });
}
updateStars();

// Form validation and submit
const reviewForm = document.getElementById('reviewForm');
const usernameInput = document.getElementById('username');
const userReviewInput = document.getElementById('userReview');
const formMessage = document.getElementById('formMessage');
const reviewsList = document.getElementById('reviewsList');
const submitBtn = document.getElementById('submitBtn');

function showFormMessage(msg, type='error') {
  formMessage.textContent = msg;
  formMessage.className = 'form-message visible' + (type === 'success' ? ' success' : '');
  setTimeout(() => {
    formMessage.classList.remove('visible');
  }, 2200);
}

function getInitials(name) {
  return name.split(' ').map(w => w[0]).join('').slice(0,2).toUpperCase();
}

function getDateString() {
  const d = new Date();
  return d.toLocaleDateString(undefined, { month: 'short', day: 'numeric', year: 'numeric' });
}

function saveReviews(reviews) {
  localStorage.setItem('animeworld_reviews', JSON.stringify(reviews));
}
function loadReviews() {
  return JSON.parse(localStorage.getItem('animeworld_reviews') || '[]');
}

function renderReviews() {
  reviewsList.innerHTML = '';
  const reviews = loadReviews();
  if (reviews.length === 0) {
    reviewsList.innerHTML = `<div style="text-align:center;color:#bdbdbd;font-size:1.1rem;">No reviews yet. Be the first!</div>`;
    return;
  }
  reviews.slice().reverse().forEach((r, i) => {
    const card = document.createElement('div');
    card.className = 'review-card';
    card.style.animationDelay = (i * 0.08) + 's';
    card.innerHTML = `
      <div class="review-avatar">${r.avatar}</div>
      <div class="review-content">
        <div class="review-header">
          <span class="review-username">${r.username}</span>
          <span class="review-stars">${'★'.repeat(r.rating)}<span style="color:#e0e0e0;">${'★'.repeat(5-r.rating)}</span></span>
          <span class="review-date">${r.date}</span>
        </div>
        <div class="review-text">${r.text}</div>
      </div>
    `;
    reviewsList.appendChild(card);
    setTimeout(() => card.style.opacity = 1, 100);
  });
}

reviewForm.addEventListener('submit', function(e) {
  e.preventDefault();
  const username = usernameInput.value.trim();
  const text = userReviewInput.value.trim();
  if (!username) {
    showFormMessage('Please enter your name.');
    usernameInput.focus();
    return;
  }
  if (!text) {
    showFormMessage('Please write a review.');
    userReviewInput.focus();
    return;
  }
  if (selectedRating === 0) {
    showFormMessage('Please select a star rating.');
    stars[0].focus();
    return;
  }
  submitBtn.disabled = true;
  showFormMessage('Submitting...', 'success');
  setTimeout(() => {
    const reviews = loadReviews();
    reviews.push({
      username,
      avatar: getInitials(username),
      text,
      rating: selectedRating,
      date: getDateString()
    });
    saveReviews(reviews);
    renderReviews();
    showFormMessage('Thank you for your review!', 'success');
    reviewForm.reset();
    selectedRating = 0;
    updateStars();
    submitBtn.disabled = false;
  }, 700);
});

// Load reviews on page load
window.addEventListener('DOMContentLoaded', () => {
  renderReviews();
});
</script>
  </section>

  <!-- MANGA WRITING -->
  <section>
  <style>
    .manga-posts {
      max-width: 540px;
      margin: 60px auto;
      padding: 32px 24px;
      background: var(--glass-bg);
      border-radius: 24px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(8px);
      position: relative;
      z-index: 1;
      transition: background 0.5s;
    }
    .dark-mode .manga-posts {
      background: var(--dark-glass);
    }
    .manga-posts h2 {
      text-align: center;
      font-size: 2.2rem;
      margin-bottom: 24px;
      letter-spacing: 1px;
      color: var(--text);
      font-weight: 700;
      text-shadow: 0 2px 8px #e0e7ff;
      transition: color 0.5s;
    }
    .dark-mode .manga-posts h2 {
      color: var(--dark-text);
      text-shadow: 0 2px 8px #232946;
    }
    .manga-form {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 32px;
    }
    .input-field, .textarea-field {
      padding: 14px 16px;
      border: none;
      border-radius: 12px;
      background: var(--input-bg);
      font-size: 1.1rem;
      transition: box-shadow 0.3s, background 0.3s;
      box-shadow: 0 2px 8px rgba(60,60,120,0.06);
      outline: none;
      resize: none;
      color: var(--text);
    }
    .input-field:focus, .textarea-field:focus {
      background: var(--input-focus);
      box-shadow: 0 0 0 3px #a5b4fc;
    }
    .dark-mode .input-field, .dark-mode .textarea-field {
      background: var(--dark-input-bg);
      color: var(--dark-text);
    }
    .dark-mode .input-field:focus, .dark-mode .textarea-field:focus {
      background: var(--dark-input-focus);
    }
    .character-count {
      align-self: flex-end;
      font-size: 0.95rem;
      color: #6b7280;
      transition: color 0.2s;
    }
    .character-count.warning {
      color: var(--warning);
    }
    .character-count.danger {
      color: var(--danger);
    }
    .image-upload-label {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      color: var(--accent);
      font-size: 1rem;
      font-weight: 500;
      margin-bottom: 0;
      transition: color 0.3s;
    }
    .image-upload-label:hover {
      color: var(--accent2);
    }
    .image-upload-input {
      display: none;
    }
    .image-preview {
      max-width: 100%;
      max-height: 180px;
      border-radius: 10px;
      margin-top: 6px;
      margin-bottom: 6px;
      display: block;
      box-shadow: 0 2px 8px rgba(99,102,241,0.10);
      animation: fadeInUp 0.7s cubic-bezier(.23,1.02,.32,1) both;
    }
    .remove-image-btn {
      background: none;
      border: none;
      color: var(--danger);
      font-size: 1.1rem;
      cursor: pointer;
      margin-left: 8px;
      opacity: 0.7;
      transition: opacity 0.2s, color 0.2s;
    }
    .remove-image-btn:hover {
      opacity: 1;
      color: var(--delete-hover);
    }
    .manga-posts-list {
      margin-top: 12px;
    }
    .manga-post {
      background: var(--post-bg);
      border-radius: 16px;
      box-shadow: 0 2px 12px rgba(60,60,120,0.10);
      margin-bottom: 18px;
      padding: 18px 20px 14px 20px;
      animation: fadeInUp 0.7s cubic-bezier(.23,1.02,.32,1) both;
      position: relative;
      overflow: hidden;
      transition: background 0.5s;
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px);}
      to { opacity: 1; transform: translateY(0);}
    }
    .dark-mode .manga-post {
      background: var(--dark-post-bg);
    }
    .manga-post-title {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--post-title);
      margin-bottom: 8px;
      letter-spacing: 0.5px;
      transition: color 0.5s;
    }
    .dark-mode .manga-post-title {
      color: var(--dark-post-title);
    }
    .manga-post-content {
      font-size: 1.05rem;
      color: var(--post-content);
      margin-bottom: 8px;
      white-space: pre-line;
      transition: color 0.5s;
    }
    .dark-mode .manga-post-content {
      color: var(--dark-post-content);
    }
    .manga-post-time {
      font-size: 0.85rem;
      color: var(--post-time);
      text-align: right;
      transition: color 0.5s;
    }
    .dark-mode .manga-post-time {
      color: var(--dark-post-time);
    }
    .manga-post-image {
      max-width: 100%;
      max-height: 220px;
      border-radius: 10px;
      margin-bottom: 10px;
      display: block;
      box-shadow: 0 2px 8px rgba(99,102,241,0.10);
      animation: fadeInUp 0.7s cubic-bezier(.23,1.02,.32,1) both;
    }
    .delete-btn {
      position: absolute;
      top: 12px;
      right: 16px;
      background: none;
      border: none;
      color: var(--danger);
      font-size: 1.1rem;
      cursor: pointer;
      opacity: 0.7;
      transition: opacity 0.2s, color 0.2s;
    }
    .delete-btn:hover {
      opacity: 1;
      color: var(--delete-hover);
    }
    .no-posts {
      text-align: center;
      color: var(--no-posts);
      font-size: 1.1rem;
      margin-top: 18px;
      transition: color 0.5s;
    }
    .dark-mode .no-posts {
      color: var(--dark-no-posts);
    }
    /* Subtle animated background effect */
    .manga-posts:before {
      content: "";
      position: absolute;
      top: -80px; left: -80px;
      width: 300px; height: 300px;
      background: radial-gradient(circle, #a5b4fc55 0%, transparent 80%);
      z-index: 0;
      animation: floatBg 8s infinite alternate;
      pointer-events: none;
    }
    @keyframes floatBg {
      0% { transform: translateY(0) scale(1);}
      100% { transform: translateY(40px) scale(1.1);}
    }
    /* Dark mode background effect */
    .dark-mode .manga-posts:before {
      background: radial-gradient(circle, #6366f155 0%, transparent 80%);
    }
    /* Markdown-like styling */
    .manga-post-content strong {
      font-weight: bold;
      color: var(--accent);
    }
    .dark-mode .manga-post-content strong {
      color: var(--dark-post-title);
    }
    .manga-post-content em {
      font-style: italic;
      color: var(--accent2);
    }
    .dark-mode .manga-post-content em {
      color: var(--dark-post-title);
    }
    /* Fade out for delete */
    .fadeOut {
      animation: fadeOutDown 0.4s forwards;
    }
    @keyframes fadeOutDown {
      to { opacity: 0; transform: translateY(40px);}
    }
  </style>
</head>
<body>
  <section class="manga-posts">
    <h2>Write and Share Your Manga</h2>
    <div class="manga-form">
      <input type="text" id="mangaTitle" class="input-field" placeholder="Enter Manga Title" maxlength="100" autocomplete="off" />
      <textarea id="mangaContent" class="textarea-field" placeholder="Write your Manga content here... (Markdown: *italic* **bold**)" rows="5" maxlength="1000"></textarea>
      <div class="character-count" id="characterCount">0/1000</div>
      <label class="image-upload-label">
        <span>📷 Add Image</span>
        <input type="file" accept="image/*" class="image-upload-input" id="imageInput">
        <button type="button" class="remove-image-btn" id="removeImageBtn" style="display:none;" title="Remove image">&times;</button>
      </label>
      <img id="imagePreview" class="image-preview" style="display:none;" alt="Image preview" />
      <button class="login-btn" id="postButton">Post Manga</button>
    </div>
    <div id="mangaPostsList" class="manga-posts-list">
      <p class="no-posts">No posts yet. Be the first to share your story!</p>
    </div>
  </section>
  <script>

    // Elements
    const mangaContent = document.getElementById('mangaContent');
    const characterCount = document.getElementById('characterCount');
    const postButton = document.getElementById('postButton');
    const mangaTitle = document.getElementById('mangaTitle');
    const mangaPostsList = document.getElementById('mangaPostsList');
    const imageInput = document.getElementById('imageInput');
    const imagePreview = document.getElementById('imagePreview');
    const removeImageBtn = document.getElementById('removeImageBtn');

    // Markdown-like parser (simple)
    function parseMarkdown(text) {
      // Replace **bold**
      text = text.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
      // Replace *italic*
      text = text.replace(/\*(.+?)\*/g, '<em>$1</em>');
      // Escape HTML
      text = text.replace(/[&<>"']/g, function(m) {
        return ({
          '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;'
        })[m];
      });
      // Now re-apply markdown (since escaping will break tags)
      text = text.replace(/&lt;strong&gt;(.+?)&lt;\/strong&gt;/g, '<strong>$1</strong>');
      text = text.replace(/&lt;em&gt;(.+?)&lt;\/em&gt;/g, '<em>$1</em>');
      return text;
    }

    // Character count live update
    function updateCharCount() {
      const len = mangaContent.value.length;
      characterCount.textContent = `${len}/1000`;
      characterCount.classList.remove('warning', 'danger');
      if (len > 900 && len < 1000) {
        characterCount.classList.add('warning');
      } else if (len >= 1000) {
        characterCount.classList.add('danger');
      }
      saveDraft();
    }
    mangaContent.addEventListener('input', updateCharCount);

    // Image upload
    let imageDataUrl = '';
    imageInput.addEventListener('change', function() {
      if (this.files && this.files[0]) {
        const file = this.files[0];
        if (!file.type.startsWith('image/')) {
          alert('Please select an image file.');
          return;
        }
        const reader = new FileReader();
        reader.onload = function(e) {
          imageDataUrl = e.target.result;
          imagePreview.src = imageDataUrl;
          imagePreview.style.display = 'block';
          removeImageBtn.style.display = 'inline';
          saveDraft();
        };
        reader.readAsDataURL(file);
      }
    });
    removeImageBtn.onclick = function() {
      imageDataUrl = '';
      imagePreview.src = '';
      imagePreview.style.display = 'none';
      imageInput.value = '';
      removeImageBtn.style.display = 'none';
      saveDraft();
    };

    // Post manga
    postButton.addEventListener('click', () => {
      const title = mangaTitle.value.trim();
      const content = mangaContent.value.trim();
      if (!title || !content) {
        alert('Please enter both a title and content!');
        return;
      }
      if (content.length > 1000) {
        alert('Content is too long!');
        return;
      }
      // Create post element
      const post = document.createElement('div');
      post.className = 'manga-post';
      let imgHtml = '';
      if (imageDataUrl) {
        imgHtml = `<img class="manga-post-image" src="${imageDataUrl}" alt="Manga image" />`;
      }
      post.innerHTML = `
        <div class="manga-post-title">${escapeHtml(title)}</div>
        ${imgHtml}
        <div class="manga-post-content">${parseMarkdown(content)}</div>
        <div class="manga-post-time">${formatTime(new Date())}</div>
        <button class="delete-btn" title="Delete post">&times;</button>
      `;
      // Add delete functionality
      post.querySelector('.delete-btn').onclick = () => {
        post.classList.add('fadeOut');
        setTimeout(() => post.remove(), 400);
        setTimeout(checkNoPosts, 410);
      };
      // Remove "no posts" message
      const noPosts = mangaPostsList.querySelector('.no-posts');
      if (noPosts) noPosts.remove();
      // Add post to top
      mangaPostsList.prepend(post);
      // Reset form
      mangaTitle.value = '';
      mangaContent.value = '';
      imageDataUrl = '';
      imagePreview.src = '';
      imagePreview.style.display = 'none';
      imageInput.value = '';
      removeImageBtn.style.display = 'none';
      updateCharCount();
      clearDraft();
    });

    // Helper: escape HTML
    function escapeHtml(str) {
      return str.replace(/[&<>"']/g, function(m) {
        return ({
          '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;'
        })[m];
      });
    }
    // Helper: format time
    function formatTime(date) {
      return date.toLocaleString([], { dateStyle: 'medium', timeStyle: 'short' });
    }
    // Check if no posts
    function checkNoPosts() {
      if (!mangaPostsList.querySelector('.manga-post')) {
        mangaPostsList.innerHTML = '<p class="no-posts">No posts yet. Be the first to share your story!</p>';
      }
    }
    // Auto-save draft to localStorage
    function saveDraft() {
      const draft = {
        title: mangaTitle.value,
        content: mangaContent.value,
        image: imageDataUrl
      };
      localStorage.setItem('mangaDraft', JSON.stringify(draft));
    }
    function loadDraft() {
      const draft = localStorage.getItem('mangaDraft');
      if (draft) {
        try {
          const d = JSON.parse(draft);
          mangaTitle.value = d.title || '';
          mangaContent.value = d.content || '';
          if (d.image) {
            imageDataUrl = d.image;
            imagePreview.src = imageDataUrl;
            imagePreview.style.display = 'block';
            removeImageBtn.style.display = 'inline';
          }
        } catch {}
      }
      updateCharCount();
    }
    function clearDraft() {
      localStorage.removeItem('mangaDraft');
    }
    // Load draft on page load
    loadDraft();

    // Optional: keyboard shortcut for post (Ctrl+Enter)
    mangaContent.addEventListener('keydown', function(e) {
      if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
        postButton.click();
      }
    });
    // Optional: keyboard shortcut for dark mode (D)
    document.addEventListener('keydown', function(e) {
      if (e.key.toLowerCase() === 'd' && (e.ctrlKey || e.metaKey)) {
        darkToggle.click();
      }
    });
  </script>
</body>
  </section>

  <!-- FOOTER -->
  <section>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

<footer class="footer-vertical">
  <div class="footer-vertical-container">
    <div class="footer-vertical-brand">
      <img src="https://cdn-icons-png.flaticon.com/512/616/616494.png" width="54" height="54" alt="AnimeWorld Logo">
      <div>
        <span class="footer-vertical-title">AnimeWorld</span>
        <p class="footer-vertical-desc">Your ultimate destination for streaming unlimited anime movies and TV shows. Dive into the world of your favorite characters and stories.</p>
      </div>
    </div>
    <nav class="footer-vertical-links">
      <span class="footer-vertical-links-title">Quick Links</span>
      <a href="#home">Home</a>
      <a href="#genres">Genres</a>
      <a href="#trending">Trending</a>
      <a href="#mylist">My List</a>
      <a href="#" id="contactUsBtn">Contact</a>
    </nav>
    <div class="footer-vertical-subscribe">
      <span class="footer-vertical-links-title">Stay Updated</span>
      <form id="subscribe-form" autocomplete="off">
        <input type="email" placeholder="Your email" id="email" required>
        <button type="submit" title="Subscribe"><i class="fas fa-paper-plane"></i></button>
      </form>
      <span id="subscription-message"></span>
      <button class="newsletter-btn" id="newsletterBtn" type="button" title="Newsletter"><i class="fa-solid fa-envelope-open-text"></i> Newsletter</button>
    </div>
    <div class="footer-vertical-socials">
      <span class="footer-vertical-links-title">Follow Us</span>
      <div>
        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
      </div>
    </div>
  </div>
  <div class="footer-vertical-bottom">
    <button class="back-to-top" id="backToTop" title="Back to top"><i class="fas fa-arrow-up"></i></button>
    <span>&copy; 2025 AnimeWorld. All Rights Reserved.</span>
  </div>
</footer>
<style>
.footer-vertical {
  background: linear-gradient(120deg, #6366f1 0%, #818cf8 100%);
  color: #fff;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  padding: 0;
  border-top: 1.5px solid rgba(255,255,255,0.08);
  box-shadow: 0 -2px 16px rgba(99,102,241,0.08);
  position: relative;
  z-index: 1;
}
.footer-vertical-container {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  max-width: 1200px;
  margin: 0 auto;
  padding: 36px 32px 12px 32px;
  gap: 32px;
  flex-wrap: wrap;
}
.footer-vertical-brand {
  display: flex;
  align-items: flex-start;
  gap: 16px;
  max-width: 320px;
  flex: 1 1 220px;
}
.footer-vertical-brand img {
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(99,102,241,0.13);
  width: 54px; height: 54px;
  animation: floatLogo 3.5s ease-in-out infinite alternate;
}
@keyframes floatLogo {
  0% { transform: translateY(0);}
  100% { transform: translateY(-10px);}
}
.footer-vertical-title {
  font-size: 1.3rem;
  font-weight: 700;
  letter-spacing: 1px;
  color: #fff;
  text-shadow: 0 2px 8px #6366f1;
  display: block;
  margin-bottom: 4px;
}
.footer-vertical-desc {
  font-size: 1rem;
  color: #e0e7ff;
  margin: 0;
  margin-bottom: 2px;
}
.footer-vertical-links {
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-width: 120px;
  flex: 0 0 120px;
}
.footer-vertical-links-title {
  font-size: 1.05rem;
  font-weight: 600;
  color: #fff;
  margin-bottom: 6px;
  letter-spacing: 0.5px;
  opacity: 0.95;
}
.footer-vertical-links a {
  color: #e0e7ff;
  text-decoration: none;
  font-size: 1rem;
  font-weight: 500;
  padding: 2px 0;
  border-radius: 4px;
  transition: color 0.2s, background 0.2s, padding 0.2s;
  position: relative;
}
.footer-vertical-links a:after {
  content: '';
  display: block;
  width: 0;
  height: 2px;
  background: #fff;
  transition: width .3s;
  position: absolute;
  left: 0; bottom: -2px;
}
.footer-vertical-links a:hover {
  color: #fff;
  background: rgba(255,255,255,0.10);
  padding-left: 8px;
}
.footer-vertical-links a:hover:after {
  width: 100%;
}
.footer-vertical-subscribe {
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-width: 200px;
  flex: 1 1 200px;
}
.footer-vertical-subscribe form {
  display: flex;
  align-items: center;
  gap: 8px;
  background: rgba(255,255,255,0.10);
  border-radius: 8px;
  padding: 3px 10px 3px 8px;
  box-shadow: 0 2px 8px rgba(99,102,241,0.08);
}
.footer-vertical-subscribe input[type="email"] {
  background: transparent;
  border: none;
  color: #fff;
  font-size: 1rem;
  outline: none;
  padding: 6px 0;
  min-width: 0;
  width: 120px;
  transition: color 0.2s;
}
.footer-vertical-subscribe input[type="email"]::placeholder {
  color: #e0e7ff;
  opacity: 0.8;
}
.footer-vertical-subscribe button[type="submit"] {
  background: none;
  border: none;
  color: #fff;
  font-size: 1.1rem;
  cursor: pointer;
  padding: 0 4px;
  transition: color 0.2s, transform 0.2s;
}
.footer-vertical-subscribe button[type="submit"]:hover {
  color: #a5b4fc;
  transform: scale(1.15);
}
#subscription-message {
  font-size: 0.97rem;
  min-width: 0;
  margin-left: 6px;
  color: #fff;
  font-weight: 500;
  transition: color 0.3s;
}
#subscription-message.success { color: #a7f3d0; animation: popIn 0.5s;}
#subscription-message.error { color: #fca5a5; animation: shake 0.4s;}
@keyframes popIn { 0% { transform: scale(0.8);} 80% { transform: scale(1.1);} 100% { transform: scale(1);}}
@keyframes shake { 0% { transform: translateX(0);} 20% { transform: translateX(-6px);} 40% { transform: translateX(6px);} 60% { transform: translateX(-4px);} 80% { transform: translateX(4px);} 100% { transform: translateX(0);}}
.newsletter-btn {
  background: rgba(255,255,255,0.13);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 7px 14px;
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.3s, color 0.3s, transform 0.2s;
  display: flex;
  align-items: center;
  gap: 7px;
  margin-top: 2px;
}
.newsletter-btn:hover {
  background: #fff;
  color: #6366f1;
  transform: scale(1.07);
}
.footer-vertical-socials {
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-width: 120px;
  flex: 0 0 120px;
}
.footer-vertical-socials > div {
  display: flex;
  gap: 14px;
}
.footer-vertical-socials a {
  color: #fff;
  font-size: 1.25rem;
  transition: color 0.2s, transform 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  width: 38px;
  height: 38px;
  background: rgba(255,255,255,0.13);
  box-shadow: 0 2px 8px rgba(99,102,241,0.10);
}
.footer-vertical-socials a:hover {
  color: #6366f1;
  background: #fff;
  transform: scale(1.15) rotate(-8deg);
}
.footer-vertical-bottom {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 18px;
  background: rgba(0,0,0,0.10);
  font-size: 1rem;
  color: #e0e7ff;
  letter-spacing: 1px;
  padding: 10px 0 8px 0;
  border-top: 1px solid rgba(255,255,255,0.08);
  position: relative;
}
.back-to-top {
  position: absolute;
  left: 18px;
  bottom: 10px;
  background: linear-gradient(90deg, #6366f1 0%, #818cf8 100%);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 38px;
  height: 38px;
  font-size: 1.2rem;
  box-shadow: 0 2px 8px rgba(99,102,241,0.13);
  cursor: pointer;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.4s, transform 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
}
.back-to-top.show {
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0);
  animation: bounceUp 0.7s;
}
@keyframes bounceUp {
  0% { transform: translateY(40px);}
  60% { transform: translateY(-10px);}
  80% { transform: translateY(4px);}
  100% { transform: translateY(0);}
}
.back-to-top:hover {
  background: #fff;
  color: #6366f1;
  transform: scale(1.1);
}
@media (max-width: 900px) {
  .footer-vertical-container {
    flex-direction: column;
    align-items: flex-start;
    gap: 24px;
    padding: 24px 6vw 8px 6vw;
  }
  .footer-vertical-brand { max-width: 100%; }
  .footer-vertical-links, .footer-vertical-socials, .footer-vertical-subscribe { min-width: 0; }
  .footer-vertical-bottom { flex-direction: column; gap: 8px; padding: 10px 0 8px 0; }
}
@media (max-width: 600px) {
  .footer-vertical-container {
    padding: 12px 2vw 4px 2vw;
    gap: 14px;
  }
  .footer-vertical-brand img { width: 38px; height: 38px;}
  .footer-vertical-title { font-size: 1.1rem;}
  .footer-vertical-links-title { font-size: 1rem;}
  .footer-vertical-links a { font-size: 0.98rem;}
  .footer-vertical-socials a { width: 32px; height: 32px; font-size: 1.1rem;}
  .back-to-top { left: 10px; bottom: 10px; width: 32px; height: 32px; font-size: 1rem;}
}
</style>

<script>
/* Subscribe form animation and validation */
const subscribeForm = document.getElementById('subscribe-form');
const emailInput = document.getElementById('email');
const subMsg = document.getElementById('subscription-message');
subscribeForm.addEventListener('submit', function(e) {
  e.preventDefault();
  const email = emailInput.value.trim();
  subMsg.className = '';
  if (!validateEmail(email)) {
    subMsg.textContent = "Please enter a valid email!";
    subMsg.classList.add('error');
    return;
  }
  subMsg.textContent = "Subscribing...";
  subMsg.classList.remove('error');
  setTimeout(() => {
    subMsg.textContent = "Thank you for subscribing! 🎉";
    subMsg.classList.add('success');
    emailInput.value = '';
  }, 900);
});
function validateEmail(email) {
  return /^[\w\.-]+@[\w\.-]+\.\w{2,}$/.test(email);
}

/* Back to top button */
const backToTop = document.getElementById('backToTop');
window.addEventListener('scroll', () => {
  if (window.scrollY > 300) {
    backToTop.classList.add('show');
  } else {
    backToTop.classList.remove('show');
  }
});
backToTop.addEventListener('click', () => {
  window.scrollTo({top:0, behavior:'smooth'});
});

/* Newsletter Modal */
const newsletterBtn = document.getElementById('newsletterBtn');
const newsletterModal = document.getElementById('newsletterModal');
const closeNewsletter = document.getElementById('closeNewsletter');
newsletterBtn.onclick = () => { newsletterModal.classList.add('active'); }
closeNewsletter.onclick = () => { newsletterModal.classList.remove('active'); }
newsletterModal.onclick = (e) => { if (e.target === newsletterModal) newsletterModal.classList.remove('active'); }
const modalSubscribeForm = document.getElementById('modal-subscribe-form');
const modalEmail = document.getElementById('modal-email');
const modalMsg = document.getElementById('modal-subscription-message');
modalSubscribeForm.addEventListener('submit', function(e) {
  e.preventDefault();
  const email = modalEmail.value.trim();
  modalMsg.className = '';
  if (!validateEmail(email)) {
    modalMsg.textContent = "Please enter a valid email!";
    modalMsg.classList.add('error');
    return;
  }
  modalMsg.textContent = "Subscribing...";
  setTimeout(() => {
    modalMsg.textContent = "You're on the list! 🎉";
    modalMsg.classList.add('success');
    modalEmail.value = '';
  }, 900);
});

/* Contact Us Modal */
const contactUsBtn = document.getElementById('contactUsBtn');
const contactModal = document.getElementById('contactModal');
const closeContact = document.getElementById('closeContact');
contactUsBtn.onclick = (e) => { e.preventDefault(); contactModal.classList.add('active'); }
closeContact.onclick = () => { contactModal.classList.remove('active'); }
contactModal.onclick = (e) => { if (e.target === contactModal) contactModal.classList.remove('active'); }
const contactForm = document.getElementById('contact-form');
const contactName = document.getElementById('contact-name');
const contactEmail = document.getElementById('contact-email');
const contactMessage = document.getElementById('contact-message');
const contactStatus = document.getElementById('contact-message-status');
contactForm.addEventListener('submit', function(e) {
  e.preventDefault();
  contactStatus.className = '';
  if (!contactName.value.trim() || !validateEmail(contactEmail.value.trim()) || !contactMessage.value.trim()) {
    contactStatus.textContent = "Please fill all fields with valid info!";
    contactStatus.classList.add('error');
    return;
  }
  contactStatus.textContent = "Sending...";
  setTimeout(() => {
    contactStatus.textContent = "Message sent! We'll get back to you soon.";
    contactStatus.classList.add('success');
    contactForm.reset();
  }, 1000);
});
</script>
  </section>
 <section>
    <!-- AnimeWorld Chatbot Widget with Custom Image Icon -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<style>
#chatbot-widget {
  position: fixed;
  z-index: 10002;
  bottom: 32px;
  right: 32px;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
}
#chatbot-toggle {
  background: linear-gradient(120deg, #232946 0%, #6366f1 100%);
  border: none;
  border-radius: 50%;
  width: 62px;
  height: 62px;
  box-shadow: 0 4px 24px rgba(60,60,120,0.18);
  cursor: pointer;
  transition: background 0.2s, transform 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
}
#chatbot-toggle:hover {
  background: #fff;
  transform: scale(1.08);
}
#chatbot-toggle img {
  width: 38px;
  height: 38px;
  border-radius: 50%;
  object-fit: cover;
  box-shadow: 0 2px 8px rgba(99,102,241,0.13);
  background: #fff;
  transition: box-shadow 0.2s;
}
#chatbot-toggle:hover img {
  box-shadow: 0 4px 16px #6366f1aa;
}
#chatbot-window {
  position: absolute;
  bottom: 74px;
  right: 0;
  width: 370px;
  max-width: 98vw;
  background: #fff;
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(60,60,120,0.18);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  opacity: 1;
  transform: translateY(0);
  transition: opacity 0.3s, transform 0.3s;
  animation: chatbot-popin 0.4s;
}
@keyframes chatbot-popin {
  0% { opacity: 0; transform: translateY(40px);}
  100% { opacity: 1; transform: translateY(0);}
}
.chatbot-hidden {
  opacity: 0;
  pointer-events: none;
  transform: translateY(40px);
  transition: opacity 0.3s, transform 0.3s;
}
.chatbot-header {
  background: linear-gradient(120deg, #232946 0%, #6366f1 100%);
  color: #fff;
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 18px 22px 16px 22px;
  border-bottom: 1px solid #e0e7ff33;
  position: relative;
}
.chatbot-avatar img {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(99,102,241,0.13);
}
.chatbot-title {
  font-size: 1.15rem;
  font-weight: 700;
  letter-spacing: 0.5px;
}
.chatbot-status {
  font-size: 0.97rem;
  color: #a7f3d0;
  margin-top: 2px;
}
.chatbot-status i {
  font-size: 0.7em;
  color: #16a34a;
  margin-right: 4px;
}
#chatbot-close {
  background: none;
  border: none;
  color: #fff;
  font-size: 1.3rem;
  position: absolute;
  right: 18px;
  top: 18px;
  cursor: pointer;
  transition: color 0.2s;
}
#chatbot-close:hover { color: #ef4444; }
.chatbot-messages {
  background: #f3f4f6;
  flex: 1 1 auto;
  padding: 20px 14px 14px 14px;
  overflow-y: auto;
  max-height: 370px;
  min-height: 120px;
  display: flex;
  flex-direction: column;
  gap: 13px;
  scroll-behavior: smooth;
}
.chatbot-message {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  max-width: 90%;
}
.chatbot-message.bot {
  flex-direction: row;
  align-self: flex-start;
}
.chatbot-message.user {
  flex-direction: row-reverse;
  align-self: flex-end;
}
.chatbot-bubble {
  padding: 12px 18px;
  border-radius: 18px;
  font-size: 1.05rem;
  line-height: 1.6;
  max-width: 100%;
  word-break: break-word;
  box-shadow: 0 2px 8px rgba(99,102,241,0.06);
  position: relative;
}
.chatbot-message.bot .chatbot-bubble {
  background: #fff;
  color: #232946;
  border-bottom-left-radius: 4px;
  border-top-left-radius: 4px;
}
.chatbot-message.user .chatbot-bubble {
  background: linear-gradient(120deg, #6366f1 0%, #232946 100%);
  color: #fff;
  border-bottom-right-radius: 4px;
  border-top-right-radius: 4px;
}
.chatbot-message .chatbot-avatar img {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  box-shadow: none;
}
.chatbot-input-area {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 14px 16px 16px 16px;
  background: #fff;
  border-top: 1px solid #e0e7ff33;
}
#chatbot-input {
  flex: 1 1 auto;
  border: none;
  border-radius: 8px;
  padding: 11px 13px;
  font-size: 1.05rem;
  background: #f3f4f6;
  color: #232946;
  outline: none;
  transition: border 0.2s;
}
#chatbot-input:focus {
  border: 1.5px solid #6366f1;
  background: #fff;
}
.chatbot-input-area button[type="submit"] {
  background: linear-gradient(120deg, #6366f1 0%, #232946 100%);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 9px 16px;
  font-size: 1.15rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.3s, color 0.3s, transform 0.2s;
  display: flex;
  align-items: center;
  gap: 6px;
}
.chatbot-input-area button[type="submit"]:hover {
  background: #fff;
  color: #6366f1;
  transform: scale(1.07);
}
@media (max-width: 600px) {
  #chatbot-widget { right: 8px; bottom: 8px; }
  #chatbot-window { width: 99vw; min-width: 0; max-width: 99vw; }
  .chatbot-header { padding: 12px 10px 10px 10px; }
  .chatbot-messages { max-height: 50vh; min-height: 80px; }
}
</style>
<div id="chatbot-widget">
  <button id="chatbot-toggle" aria-label="Open chat">
    <img src="https://www.shutterstock.com/image-vector/robot-face-icon-chatbot-support-260nw-2569209125.jpg" alt="Chatbot Icon" />
  </button>
  <div id="chatbot-window" class="chatbot-hidden" style="display:none;">
    <div class="chatbot-header">
      <div class="chatbot-avatar">
        <img src="https://cdn-icons-png.flaticon.com/512/616/616494.png" alt="Bot" />
      </div>
      <div>
        <div class="chatbot-title">badmosh</div>
        <div class="chatbot-status"><i class="fa fa-circle"></i> Online</div>
      </div>
      <button id="chatbot-close" aria-label="Close chat"><i class="fa fa-times"></i></button>
    </div>
    <div class="chatbot-messages" id="chatbot-messages"></div>
    <form class="chatbot-input-area" id="chatbot-form" autocomplete="off">
      <input type="text" id="chatbot-input" placeholder="Type your message..." maxlength="500" required />
      <button type="submit" aria-label="Send"><i class="fa fa-paper-plane"></i></button>
    </form>
  </div>
</div>
<script>
const chatbotToggle = document.getElementById('chatbot-toggle');
const chatbotWindow = document.getElementById('chatbot-window');
const chatbotClose = document.getElementById('chatbot-close');
const chatbotForm = document.getElementById('chatbot-form');
const chatbotInput = document.getElementById('chatbot-input');
const chatbotMessages = document.getElementById('chatbot-messages');

// Only icon visible at start
chatbotWindow.style.display = "none";

// Open chat
chatbotToggle.onclick = () => {
  chatbotWindow.classList.remove('chatbot-hidden');
  chatbotWindow.style.display = "flex";
  setTimeout(() => chatbotInput.focus(), 200);
  if (chatbotMessages.childElementCount === 0) {
    botReply("👋 Hi! I'm your badmosh. How can I help you today?");
  }
  chatbotToggle.style.display = "none";
};
// Close chat
chatbotClose.onclick = () => {
  chatbotWindow.classList.add('chatbot-hidden');
  setTimeout(() => {
    chatbotWindow.style.display = "none";
    chatbotToggle.style.display = "flex";
  }, 300);
};

// Send message
chatbotForm.onsubmit = (e) => {
  e.preventDefault();
  const msg = chatbotInput.value.trim();
  if (!msg) return;
  addMessage(msg, 'user');
  chatbotInput.value = '';
  setTimeout(() => botLogic(msg), 600);
};

// Add message to chat
function addMessage(text, sender = 'bot') {
  const msgDiv = document.createElement('div');
  msgDiv.className = `chatbot-message ${sender}`;
  if (sender === 'bot') {
    msgDiv.innerHTML = `
      <span class="chatbot-avatar"><img src="https://cdn-icons-png.flaticon.com/512/616/616494.png" alt="Bot"></span>
      <span class="chatbot-bubble">${text}</span>
    `;
  } else {
    msgDiv.innerHTML = `
      <span class="chatbot-bubble">${text}</span>
      <span class="chatbot-avatar"><img src="https://cdn-icons-png.flaticon.com/512/1946/1946429.png" alt="You"></span>
    `;
  }
  chatbotMessages.appendChild(msgDiv);
  chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
}

// Professional bot logic (expand as needed)
function botLogic(msg) {
  const lower = msg.toLowerCase();
  if (lower.includes('hello') || lower.includes('hi')) {
    botReply("Hello! 😊 How can I assist you with AnimeWorld?");
  } else if (lower.includes('recommend')) {
    botReply("Looking for recommendations? Here are some top picks:<br>• <b>Attack on Titan</b><br>• <b>Demon Slayer</b><br>• <b>Jujutsu Kaisen</b><br>• <b>One Piece</b><br>Let me know your favorite genre for more!");
  } else if (lower.includes('contact')) {
    botReply("You can reach us via the Contact form in the footer, or ask your question here!");
  } else if (lower.includes('newsletter')) {
    botReply("To subscribe to our newsletter, use the 'Stay Updated' section in the footer.");
  } else if (lower.includes('account')) {
    botReply("For account help, please log in and visit your profile settings. If you need further assistance, let me know!");
  } else if (lower.includes('trending')) {
    botReply("Check out the Trending section for the latest popular anime!");
  } else if (lower.includes('bye')) {
    botReply("Goodbye! 👋 If you need anything else, just open the chat again.");
  } else if (lower.length < 3) {
    botReply("Could you please type a bit more?");
  } else {
    setTimeout(() => {
      botReply("I'm here to help! For account, anime info, or support, just ask. (This is a demo bot, but you can connect me to a real backend!)");
    }, 600);
  }
}
function botReply(text) {
  addMessage(text, 'bot');
}
chatbotToggle.addEventListener('keydown', e => {
  if (e.key === 'Enter' || e.key === ' ') chatbotToggle.click();
});
</script>
 </section>
  <!-- SCRIPTS -->
  <script>
    // Modern sun/moon SVGs
    const sunSVG = `<svg viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="5" fill="currentColor"/><g stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></g></svg>`;
    const moonSVG = `<svg viewBox="0 0 24 24" fill="none"><path d="M21 12.79A9 9 0 0111.21 3a7 7 0 100 14A9 9 0 0021 12.79z" fill="currentColor"/></svg>`;

    // Theme toggle
    const themeToggle = document.getElementById('themeToggle');
    function setTheme(mode) {
      if (mode === 'light') {
        document.body.classList.add('light-mode');
        themeToggle.innerHTML = moonSVG;
      } else {
        document.body.classList.remove('light-mode');
        themeToggle.innerHTML = sunSVG;
      }
      localStorage.setItem('theme', mode);
    }
    window.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem('theme');
      setTheme(saved === 'light' ? 'light' : 'dark');
    });
    themeToggle.addEventListener('click', () => {
      const isLight = document.body.classList.contains('light-mode');
      setTheme(isLight ? 'dark' : 'light');
    });

    // Hamburger menu for mobile
    const hamburger = document.getElementById('hamburger');
    const nav = document.getElementById('animeNav');
    hamburger.addEventListener('click', () => {
      nav.classList.toggle('open');
    });

    // Navbar smooth scroll and active link
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        nav.classList.remove('open');
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          window.scrollTo({ top: target.offsetTop - 80, behavior: 'smooth' });
          document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
          this.classList.add('active');
        }
      });
    });

    // Highlight nav on scroll
    const sections = ['home','genres','trending','mylist'].map(id => document.getElementById(id));
    window.addEventListener('scroll', () => {
      let scrollPos = window.scrollY + 100;
      sections.forEach((section, i) => {
        if (section && scrollPos >= section.offsetTop) {
          document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
          document.querySelectorAll('.nav-link')[i].classList.add('active');
        }
      });
    });

    // Carousel
    const carousel = document.getElementById('carousel');
    let slideIndex = 0;
    setInterval(() => {
      slideIndex = (slideIndex + 1) % carousel.children.length;
      carousel.style.transform = `translateX(-${slideIndex * 100}vw)`;
    }, 4000);

    // Trending Slider
    const trendingSlider = document.getElementById('trendingSlider');
    let trendingIndex = 0;
    document.querySelector('.slider-nav.prev').onclick = () => {
      trendingIndex = (trendingIndex <= 0) ? trendingSlider.children.length - 1 : trendingIndex - 1;
      trendingSlider.scrollTo({ left: trendingIndex * 240, behavior: 'smooth' });
    };
    document.querySelector('.slider-nav.next').onclick = () => {
      trendingIndex = (trendingIndex >= trendingSlider.children.length - 1) ? 0 : trendingIndex + 1;
      trendingSlider.scrollTo({ left: trendingIndex * 240, behavior: 'smooth' });
    };

    // Watchlist
    let watchlist = [];
    function addToWatchlist(anime) {
      if (!watchlist.includes(anime)) {
        watchlist.push(anime);
        displayWatchlist();
      }
    }
    function displayWatchlist() {
      const watchlistContainer = document.getElementById('watchlist');
      watchlistContainer.innerHTML = watchlist.length
        ? watchlist.map(anime => `<p>${anime}</p>`).join('')
        : '<p>Your watchlist is empty.</p>';
    }
    displayWatchlist();

    // Quiz
    const quizData = [
      { question: "Who is the main protagonist in Naruto?", answers: ["Sasuke", "Naruto", "Kakashi", "Itachi"], correct: 1 },
      { question: "What is the name of the Titan-shifter in AoT?", answers: ["Armin", "Eren", "Levi", "Erwin"], correct: 1 }
    ];


    // FAQ
    document.querySelectorAll('.faq-question').forEach(question => {
      question.addEventListener('click', () => {
        const faqItem = question.parentElement;
        document.querySelectorAll('.faq-item').forEach(item => {
          if (item !== faqItem) item.classList.remove('active');
        });
        faqItem.classList.toggle('active');
      });
    });

    // Reviews
    let currentRating = 0;
    document.querySelectorAll('#starRating span').forEach(star => {
      star.addEventListener('click', () => {
        currentRating = parseInt(star.getAttribute('data-value'));
        document.querySelectorAll('#starRating span').forEach((s, i) => {
          s.classList.toggle('selected', i < currentRating);
        });
      });
    });
    function submitReview() {
      const name = document.getElementById('username').value.trim();
      const review = document.getElementById('userReview').value.trim();
      if (!name || !review || currentRating === 0) return alert('Please complete all fields.');
      const reviewHTML = `
        <div class="review-card">
          <div class="review-avatar"><img src="https://api.dicebear.com/7.x/thumbs/svg?seed=${name}" width="50" height="50" style="border-radius: 50%;" /></div>
          <div class="review-content">
            <strong>${name}</strong>
            <div class="review-stars">${'★'.repeat(currentRating)}${'☆'.repeat(5 - currentRating)}</div>
            <p>${review}</p>
          </div>
        </div>
      `;
      document.getElementById('reviewsList').innerHTML += reviewHTML;
      document.getElementById('username').value = '';
      document.getElementById('userReview').value = '';
      currentRating = 0;
      document.querySelectorAll('#starRating span').forEach(s => s.classList.remove('selected'));
    }

    // Manga Posts
    document.addEventListener('DOMContentLoaded', () => {
      const mangaTitle = document.getElementById('mangaTitle');
      const mangaContent = document.getElementById('mangaContent');
      const characterCount = document.getElementById('characterCount');
      const postButton = document.getElementById('postButton');
      const mangaPostsList = document.getElementById('mangaPostsList');
      mangaContent.addEventListener('input', () => {
        const contentLength = mangaContent.value.length;
        characterCount.textContent = `${contentLength}/1000`;
        characterCount.className = 'character-count' +
          (contentLength > 900 && contentLength <= 1000 ? ' warning' : '') +
          (contentLength > 1000 ? ' error' : '');
      });
      postButton.addEventListener('click', () => {
        const title = mangaTitle.value.trim();
        const content = mangaContent.value.trim();
        if (!title || !content) {
          alert('Please fill in both the title and content!');
          return;
        }
        const post = document.createElement('div');
        post.className = 'manga-post';
        post.innerHTML = `<h3>${title}</h3><p>${content}</p>`;
        if (mangaPostsList.querySelector('p')) mangaPostsList.innerHTML = '';
        mangaPostsList.appendChild(post);
        mangaTitle.value = '';
        mangaContent.value = '';
        characterCount.textContent = '0/1000';
      });
    });

    // Footer Subscribe
    document.getElementById("subscribe-form").addEventListener("submit", function (e) {
      e.preventDefault();
      const email = document.getElementById("email").value;
      const message = document.getElementById("subscription-message");
      if (email) {
        message.textContent = "Thank you for subscribing!";
        message.style.color = "#00ff00";
      } else {
        message.textContent = "Please enter a valid email address.";
        message.style.color = "#ff4081";
      }
      setTimeout(() => { message.textContent = ""; }, 3000);
    });
  </script>
</body>
</html>